const a3_0x478095=a3_0x2917;(function(_0x9ffafc,_0x5ed1e3){const _0x25a56=a3_0x2917,_0x12ea19=_0x9ffafc();while(!![]){try{const _0x52cd21=-parseInt(_0x25a56(0x151))/0x1*(-parseInt(_0x25a56(0x165))/0x2)+-parseInt(_0x25a56(0x137))/0x3*(-parseInt(_0x25a56(0x16e))/0x4)+parseInt(_0x25a56(0x172))/0x5+-parseInt(_0x25a56(0x12e))/0x6+parseInt(_0x25a56(0x148))/0x7*(-parseInt(_0x25a56(0x131))/0x8)+parseInt(_0x25a56(0x13c))/0x9*(parseInt(_0x25a56(0x12d))/0xa)+-parseInt(_0x25a56(0x14d))/0xb;if(_0x52cd21===_0x5ed1e3)break;else _0x12ea19['push'](_0x12ea19['shift']());}catch(_0xc8f23){_0x12ea19['push'](_0x12ea19['shift']());}}}(a3_0x3441,0x3f21c));import a3_0x410d03 from'input';function a3_0x2917(_0x5812e6,_0x281426){const _0x34418b=a3_0x3441();return a3_0x2917=function(_0x29170a,_0x2688d4){_0x29170a=_0x29170a-0x120;let _0x4868bd=_0x34418b[_0x29170a];return _0x4868bd;},a3_0x2917(_0x5812e6,_0x281426);}import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x3441(){const _0x1ad9fd=['Invalid\x20Input','9EAphXy','Query\x20','log','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','<empty>','getTelegramQuery','info','agent','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','storeSession','resolvePeer','434zVrHBf','\x20-\x20Webview\x20Connected','\x20-\x20Created','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','4937625tjFfCB','seconds','getSession','<empty>\x0a','50lRLdFb','length','Session\x20','initWebView','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','Please\x20Enter\x20Telegram\x20Query\x20:\x20','proxy','useSession','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','indexOf','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','disconnect','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','session','accounts/','Your\x20Account\x20List\x20:\x0a\x20\x0a','readQueryFile','error','bot','7450sISrfm','Invalid\x20input,\x20Please\x20try\x20again','text','https://image.notpx.app/','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','query','Enter\x20your\x20Telegram\x20Password?','start','accounts','31556BcrwjC','save','resetAccounts','peer','1080780GgNvKc','RequestWebView','\x20|\x20Sleep\x20','serverAddress','delay','onBoarding','url','saveQueryFile','android','TELEGRAM_APP_ID','client','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','exit','includes','sessionCreation','2671610OdsNNh','29742bdMlPq','\x20-\x20Resolving\x20Peer','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','3632POWOTn','accountName','queryModificaiton','createDir','query-','messages','27YPPuDi','TELEGRAM_APP_HASH','\x20|\x20FloodWait\x20','accountType'];a3_0x3441=function(){return _0x1ad9fd;};return a3_0x3441();}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x40cc0a from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x478095(0x146)];constructor(){const _0x3c20e0=a3_0x478095;this[_0x3c20e0(0x132)]=_0x3c20e0(0x16d),this[_0x3c20e0(0x123)]=_0x3c20e0(0x168),this[_0x3c20e0(0x164)]='notpixel';}async['init'](){const _0x375345=a3_0x478095;try{await this['onBoarding']();}catch(_0x43065a){console['log'](_0x43065a),a3_0x40cc0a[_0x375345(0x163)](''+JSON['stringify'](_0x43065a));throw _0x43065a;}}async[a3_0x478095(0x122)](){const _0xf8c5b0=a3_0x478095;try{let _0x4ab756=_0xf8c5b0(0x130);const _0x4fbfa4=Helper[_0xf8c5b0(0x14f)](_0xf8c5b0(0x16d));if(_0x4fbfa4[_0xf8c5b0(0x152)]==0x0)_0x4ab756+=_0xf8c5b0(0x141);else for(const _0x4e0eb7 of _0x4fbfa4){_0x4ab756+='-\x20'+_0x4e0eb7+'\x0a';}_0x4ab756+=_0xf8c5b0(0x15e),_0x4ab756+=_0xf8c5b0(0x169);const _0x5541f9=await a3_0x410d03[_0xf8c5b0(0x167)](_0x4ab756);if(_0x5541f9==0x1)await this[_0xf8c5b0(0x13a)]();else{if(_0x5541f9==0x2)Helper[_0xf8c5b0(0x170)](),await Helper[_0xf8c5b0(0x121)](0xbb8),await this[_0xf8c5b0(0x122)]();else{if(_0x5541f9==0x3)Helper[_0xf8c5b0(0x14f)](this['accountName'])?.[_0xf8c5b0(0x152)]==0x0&&(console[_0xf8c5b0(0x143)](_0xf8c5b0(0x145)),await this['onBoarding']());else _0x5541f9==0x4?await this[_0xf8c5b0(0x133)]():(console[_0xf8c5b0(0x163)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0xf8c5b0(0x122)]());}}}catch(_0x107574){throw _0x107574;}}async[a3_0x478095(0x133)](){const _0x3a3fb3=a3_0x478095;try{const _0x7d79b8=Helper[_0x3a3fb3(0x14f)](_0x3a3fb3(0x16d)),_0x4a31f6=_0x7d79b8['filter'](_0x9d6712=>_0x9d6712[_0x3a3fb3(0x12b)](_0x3a3fb3(0x16a)));let _0x2cea10=_0x3a3fb3(0x14c);for(const _0x12d287 of _0x4a31f6){_0x2cea10+=_0x7d79b8['indexOf'](_0x12d287)+0x1+'.\x20'+_0x12d287+'\x0a';}_0x4a31f6[_0x3a3fb3(0x152)]==0x0?(console[_0x3a3fb3(0x13e)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this['onBoarding']()):_0x2cea10+=_0x3a3fb3(0x140);const _0x3a96ff=await a3_0x410d03[_0x3a3fb3(0x167)](_0x2cea10);if(_0x4a31f6[_0x3a96ff-0x1]!=undefined){const _0x35ac46=_0x4a31f6[_0x3a96ff-0x1];this['accountName']=_0x3a3fb3(0x160)+_0x35ac46;const _0x1c493a='Old\x20Query\x20:\x20'+Helper[_0x3a3fb3(0x162)](this[_0x3a3fb3(0x132)]+'/query.txt')+_0x3a3fb3(0x13f),_0x12a7b9=await a3_0x410d03[_0x3a3fb3(0x167)](_0x1c493a);await Helper[_0x3a3fb3(0x124)](this['accountName'],_0x12a7b9),await Helper['delay'](0xbb8),await this[_0x3a3fb3(0x122)]();}else console[_0x3a3fb3(0x163)](_0x3a3fb3(0x166)),await this[_0x3a3fb3(0x133)]();}catch(_0x4840e8){throw _0x4840e8;}}async['sessionCreation'](){const _0x5b2049=a3_0x478095;try{if(Config['TELEGRAM_APP_ID']==undefined||Config[_0x5b2049(0x138)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x1899b6=Helper['getSession'](_0x5b2049(0x16d));let _0x54edfc='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x4740ca of _0x1899b6){_0x54edfc+=_0x1899b6[_0x5b2049(0x15a)](_0x4740ca)+0x1+'.\x20'+_0x4740ca+'\x0a';}_0x1899b6[_0x5b2049(0x152)]==0x0?_0x54edfc+=_0x5b2049(0x155):_0x54edfc+='\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:';const _0x146211=await a3_0x410d03['text'](_0x54edfc);this[_0x5b2049(0x132)]=Helper[_0x5b2049(0x134)]('sessions-'+_0x146211),await this[_0x5b2049(0x158)](this['accountName']),await this['disconnect'](),a3_0x40cc0a[_0x5b2049(0x143)](_0x5b2049(0x153)+this[_0x5b2049(0x132)]+_0x5b2049(0x14a)),console[_0x5b2049(0x13e)](_0x5b2049(0x153)+_0x146211+_0x5b2049(0x15b)),this[_0x5b2049(0x146)][_0x5b2049(0x16f)](),await Helper[_0x5b2049(0x121)](0xbb8),process[_0x5b2049(0x12a)]();}catch(_0x396405){throw _0x396405;}}async['queryCreation'](){const _0x34504a=a3_0x478095;try{const _0x37219e=Helper[_0x34504a(0x14f)](_0x34504a(0x16d));let _0x47abe4=_0x34504a(0x161);for(const _0x1e39ac of _0x37219e){_0x47abe4+=_0x37219e[_0x34504a(0x15a)](_0x1e39ac)+0x1+'.\x20'+_0x1e39ac+'\x0a';}_0x37219e[_0x34504a(0x152)]==0x0?_0x47abe4+=_0x34504a(0x129):_0x47abe4+=_0x34504a(0x128);const _0x58d460=await a3_0x410d03[_0x34504a(0x167)](_0x47abe4);this[_0x34504a(0x132)]=Helper[_0x34504a(0x134)](_0x34504a(0x135)+_0x58d460);let _0x47df51=_0x34504a(0x156);const _0x482c00=await a3_0x410d03[_0x34504a(0x167)](_0x47df51);await Helper['saveQueryFile'](this[_0x34504a(0x132)],_0x482c00),a3_0x40cc0a[_0x34504a(0x143)](_0x34504a(0x13d)+this[_0x34504a(0x132)]+_0x34504a(0x14a)),console[_0x34504a(0x13e)](_0x34504a(0x13d)+_0x58d460+_0x34504a(0x15b)),await Helper[_0x34504a(0x121)](0xbb8),process[_0x34504a(0x12a)]();}catch(_0x4b4ba8){throw _0x4b4ba8;}}async[a3_0x478095(0x13a)](){const _0x1ad96a=a3_0x478095;try{const _0x434177=Helper[_0x1ad96a(0x14f)](_0x1ad96a(0x16d));let _0x3151a5=_0x1ad96a(0x161);if(_0x434177['length']>0x0)for(const _0x508e25 of _0x434177){_0x3151a5+=_0x434177[_0x1ad96a(0x15a)](_0x508e25)+0x1+'.\x20'+_0x508e25+'\x0a';}else _0x3151a5+=_0x1ad96a(0x150);_0x3151a5+=_0x1ad96a(0x14b);const _0x2cd5b6=await a3_0x410d03[_0x1ad96a(0x167)](_0x3151a5);if(_0x2cd5b6==0x1)await this[_0x1ad96a(0x12c)]();else _0x2cd5b6==0x2?await this['queryCreation']():(console[_0x1ad96a(0x13e)](_0x1ad96a(0x13b)),await this[_0x1ad96a(0x13a)]());}catch(_0x597321){throw _0x597321;}}async['useSession'](_0x5225ab,_0x2f48fa){const _0x200c45=a3_0x478095;try{this[_0x200c45(0x157)]=_0x2f48fa;const _0x552a02={'connectionRetries':0x5};this[_0x200c45(0x157)]&&(_0x552a02[_0x200c45(0x144)]=new HttpsProxyAgent(this[_0x200c45(0x157)])),this[_0x200c45(0x146)]=new StoreSession(_0x5225ab),this[_0x200c45(0x127)]=new TelegramClient(this['storeSession'],Config[_0x200c45(0x126)],Config[_0x200c45(0x138)],_0x552a02),this['storeSession'][_0x200c45(0x16f)](),await this['client'][_0x200c45(0x16c)]({'phoneNumber':async()=>await a3_0x410d03[_0x200c45(0x167)](_0x200c45(0x159)),'password':async()=>await a3_0x410d03['text'](_0x200c45(0x16b)),'phoneCode':async()=>await a3_0x410d03[_0x200c45(0x167)](_0x200c45(0x15c)),'onError':_0x1ed56a=>{const _0x3bc4d5=_0x200c45;console[_0x3bc4d5(0x13e)](_0x1ed56a['message']);}});}catch(_0x4bd3e7){throw _0x4bd3e7;}}async[a3_0x478095(0x147)](){const _0x2ab226=a3_0x478095;try{a3_0x40cc0a[_0x2ab226(0x143)]('Session\x20'+this[_0x2ab226(0x15f)]+_0x2ab226(0x12f));while(this['peer']==undefined){try{this[_0x2ab226(0x171)]=await this['client']['getEntity'](this[_0x2ab226(0x164)]);break;}catch(_0x20fba1){if(_0x20fba1 instanceof FloodWaitError){const _0x274e27=_0x20fba1[_0x2ab226(0x14e)];a3_0x40cc0a['warn'](this[_0x2ab226(0x127)][_0x2ab226(0x15f)][_0x2ab226(0x120)]+_0x2ab226(0x139)+_0x20fba1),a3_0x40cc0a['info'](this[_0x2ab226(0x127)]['session'][_0x2ab226(0x120)]+_0x2ab226(0x174)+_0x274e27+'s'),await Helper['delay']((_0x274e27+0x3)*0x3e8);}else throw _0x20fba1;}}}catch(_0x3ac54c){throw _0x3ac54c;}}async['disconnect'](){const _0x11cec4=a3_0x478095;await this['client'][_0x11cec4(0x15d)](),await this[_0x11cec4(0x127)]['destroy'](),this['peer']=undefined,this[_0x11cec4(0x132)]=undefined;}async[a3_0x478095(0x154)](){const _0x2d96bf=a3_0x478095;try{const _0x1c5410=await this[_0x2d96bf(0x127)]['invoke'](new Api[(_0x2d96bf(0x136))][(_0x2d96bf(0x173))]({'peer':this[_0x2d96bf(0x171)],'bot':this['peer'],'fromBotMenu':!![],'url':this[_0x2d96bf(0x123)],'platform':_0x2d96bf(0x125)}));a3_0x40cc0a[_0x2d96bf(0x143)](_0x2d96bf(0x153)+this['session']+_0x2d96bf(0x149));const _0x127273=_0x1c5410['url'];return Helper[_0x2d96bf(0x142)](_0x127273,0x3);}catch(_0x373f6e){throw _0x373f6e;}}}