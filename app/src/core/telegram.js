const a3_0x2e14ab=a3_0x1727;(function(_0x5076c9,_0x1960a9){const _0x3b1e5d=a3_0x1727,_0x1c53de=_0x5076c9();while(!![]){try{const _0xc8b5c=parseInt(_0x3b1e5d(0x1bf))/0x1+-parseInt(_0x3b1e5d(0x1aa))/0x2*(parseInt(_0x3b1e5d(0x1c3))/0x3)+parseInt(_0x3b1e5d(0x1bb))/0x4+-parseInt(_0x3b1e5d(0x1da))/0x5+parseInt(_0x3b1e5d(0x1eb))/0x6+parseInt(_0x3b1e5d(0x1d3))/0x7*(-parseInt(_0x3b1e5d(0x1e7))/0x8)+parseInt(_0x3b1e5d(0x1bd))/0x9;if(_0xc8b5c===_0x1960a9)break;else _0x1c53de['push'](_0x1c53de['shift']());}catch(_0x166ba6){_0x1c53de['push'](_0x1c53de['shift']());}}}(a3_0x56ba,0x413ae));function a3_0x1727(_0x338f23,_0x1f7f86){const _0x56ba70=a3_0x56ba();return a3_0x1727=function(_0x172785,_0x123e71){_0x172785=_0x172785-0x1a4;let _0x2f5d7d=_0x56ba70[_0x172785];return _0x2f5d7d;},a3_0x1727(_0x338f23,_0x1f7f86);}import a3_0x1e65af from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x42fcf2 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x2e14ab(0x1db)];constructor(){const _0x4e0908=a3_0x2e14ab;this['accountName']=_0x4e0908(0x1be),this[_0x4e0908(0x1b4)]=_0x4e0908(0x1e6),this[_0x4e0908(0x1ea)]=_0x4e0908(0x1b3);}async['init'](){const _0x3d6081=a3_0x2e14ab;try{await this[_0x3d6081(0x1c7)]();}catch(_0x35b2cc){console[_0x3d6081(0x1b7)](_0x35b2cc),a3_0x42fcf2[_0x3d6081(0x1b2)](''+JSON['stringify'](_0x35b2cc));throw _0x35b2cc;}}async['onBoarding'](){const _0x24ad6e=a3_0x2e14ab;try{let _0x4c31c6='Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a';const _0x33f1bd=Helper[_0x24ad6e(0x1ef)]('accounts');if(_0x33f1bd[_0x24ad6e(0x1bc)]==0x0)_0x4c31c6+=_0x24ad6e(0x1ca);else for(const _0x12476f of _0x33f1bd){_0x4c31c6+='-\x20'+_0x12476f+'\x0a';}_0x4c31c6+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x4c31c6+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0x1a99de=await a3_0x1e65af[_0x24ad6e(0x1e0)](_0x4c31c6);if(_0x1a99de==0x1)await this[_0x24ad6e(0x1d5)]();else{if(_0x1a99de==0x2)Helper[_0x24ad6e(0x1d9)](),await Helper[_0x24ad6e(0x1ac)](0xbb8),await this['onBoarding']();else{if(_0x1a99de==0x3)Helper[_0x24ad6e(0x1ef)](this[_0x24ad6e(0x1a9)])?.[_0x24ad6e(0x1bc)]==0x0&&(console[_0x24ad6e(0x1e2)](_0x24ad6e(0x1ce)),await this[_0x24ad6e(0x1c7)]());else _0x1a99de==0x4?await this[_0x24ad6e(0x1cc)]():(console['error']('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x24ad6e(0x1c7)]());}}}catch(_0x1a8604){throw _0x1a8604;}}async[a3_0x2e14ab(0x1cc)](){const _0x134ebf=a3_0x2e14ab;try{const _0x501d3e=Helper[_0x134ebf(0x1ef)]('accounts'),_0x46e332=_0x501d3e[_0x134ebf(0x1e3)](_0x2df18d=>_0x2df18d[_0x134ebf(0x1a6)]('query'));let _0x9c448a=_0x134ebf(0x1f1);for(const _0x29dc40 of _0x46e332){_0x9c448a+=_0x501d3e['indexOf'](_0x29dc40)+0x1+'.\x20'+_0x29dc40+'\x0a';}_0x46e332['length']==0x0?(console[_0x134ebf(0x1b7)](_0x134ebf(0x1b0)),await this[_0x134ebf(0x1c7)]()):_0x9c448a+=_0x134ebf(0x1de);const _0x387179=await a3_0x1e65af[_0x134ebf(0x1e0)](_0x9c448a);if(_0x46e332[_0x387179-0x1]!=undefined){const _0xc06926=_0x46e332[_0x387179-0x1];this[_0x134ebf(0x1a9)]='accounts/'+_0xc06926;const _0x36c2d4='Old\x20Query\x20:\x20'+Helper['readQueryFile'](this[_0x134ebf(0x1a9)]+_0x134ebf(0x1ae))+_0x134ebf(0x1cd),_0x159727=await a3_0x1e65af[_0x134ebf(0x1e0)](_0x36c2d4);await Helper[_0x134ebf(0x1c5)](this[_0x134ebf(0x1a9)],_0x159727),await Helper[_0x134ebf(0x1ac)](0xbb8),await this['onBoarding']();}else console[_0x134ebf(0x1b2)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x134ebf(0x1cc)]();}catch(_0x28840a){throw _0x28840a;}}async[a3_0x2e14ab(0x1c0)](){const _0x5ed2e8=a3_0x2e14ab;try{if(Config[_0x5ed2e8(0x1b5)]==undefined||Config[_0x5ed2e8(0x1ad)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x134327=Helper['getSession'](_0x5ed2e8(0x1be));let _0xea9d74=_0x5ed2e8(0x1cb);for(const _0x30883a of _0x134327){_0xea9d74+=_0x134327[_0x5ed2e8(0x1d1)](_0x30883a)+0x1+'.\x20'+_0x30883a+'\x0a';}_0x134327[_0x5ed2e8(0x1bc)]==0x0?_0xea9d74+=_0x5ed2e8(0x1d0):_0xea9d74+='\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:';const _0x15ca1f=await a3_0x1e65af[_0x5ed2e8(0x1e0)](_0xea9d74);this[_0x5ed2e8(0x1a9)]=Helper[_0x5ed2e8(0x1ba)](_0x5ed2e8(0x1e4)+_0x15ca1f),await this[_0x5ed2e8(0x1af)](this[_0x5ed2e8(0x1a9)]),await this[_0x5ed2e8(0x1d4)](),a3_0x42fcf2[_0x5ed2e8(0x1e2)](_0x5ed2e8(0x1e9)+this[_0x5ed2e8(0x1a9)]+'\x20-\x20Created'),console[_0x5ed2e8(0x1b7)](_0x5ed2e8(0x1e9)+_0x15ca1f+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),this[_0x5ed2e8(0x1db)]['save'](),await Helper[_0x5ed2e8(0x1ac)](0xbb8),process['exit']();}catch(_0x4763fd){throw _0x4763fd;}}async[a3_0x2e14ab(0x1c9)](){const _0x826e97=a3_0x2e14ab;try{const _0x310985=Helper[_0x826e97(0x1ef)](_0x826e97(0x1be));let _0x5db080=_0x826e97(0x1cb);for(const _0x26a55e of _0x310985){_0x5db080+=_0x310985[_0x826e97(0x1d1)](_0x26a55e)+0x1+'.\x20'+_0x26a55e+'\x0a';}_0x310985[_0x826e97(0x1bc)]==0x0?_0x5db080+=_0x826e97(0x1c4):_0x5db080+=_0x826e97(0x1b6);const _0x17e59a=await a3_0x1e65af[_0x826e97(0x1e0)](_0x5db080);this[_0x826e97(0x1a9)]=Helper[_0x826e97(0x1ba)](_0x826e97(0x1ee)+_0x17e59a);let _0xcd387f=_0x826e97(0x1ab);const _0xbf0ce0=await a3_0x1e65af[_0x826e97(0x1e0)](_0xcd387f);await Helper['saveQueryFile'](this[_0x826e97(0x1a9)],_0xbf0ce0),a3_0x42fcf2[_0x826e97(0x1e2)](_0x826e97(0x1f0)+this['accountName']+'\x20-\x20Created'),console[_0x826e97(0x1b7)]('Query\x20'+_0x17e59a+_0x826e97(0x1e8)),await Helper[_0x826e97(0x1ac)](0xbb8),process[_0x826e97(0x1a8)]();}catch(_0x3f47db){throw _0x3f47db;}}async['accountType'](){const _0xc66dcd=a3_0x2e14ab;try{const _0x452418=Helper['getSession']('accounts');let _0x32576c=_0xc66dcd(0x1cb);if(_0x452418[_0xc66dcd(0x1bc)]>0x0)for(const _0x3de035 of _0x452418){_0x32576c+=_0x452418[_0xc66dcd(0x1d1)](_0x3de035)+0x1+'.\x20'+_0x3de035+'\x0a';}else _0x32576c+=_0xc66dcd(0x1c2);_0x32576c+=_0xc66dcd(0x1d6);const _0x16fe7c=await a3_0x1e65af['text'](_0x32576c);if(_0x16fe7c==0x1)await this['sessionCreation']();else _0x16fe7c==0x2?await this[_0xc66dcd(0x1c9)]():(console[_0xc66dcd(0x1b7)](_0xc66dcd(0x1dc)),await this[_0xc66dcd(0x1d5)]());}catch(_0x685f89){throw _0x685f89;}}async['useSession'](_0x4fb143,_0x1e527d){const _0x434d12=a3_0x2e14ab;try{this['proxy']=_0x1e527d;const _0x5ff869={'connectionRetries':0x5};this[_0x434d12(0x1df)]&&(_0x5ff869[_0x434d12(0x1dd)]=new HttpsProxyAgent(this[_0x434d12(0x1df)])),this[_0x434d12(0x1db)]=new StoreSession(_0x4fb143),this['client']=new TelegramClient(this[_0x434d12(0x1db)],Config[_0x434d12(0x1b5)],Config[_0x434d12(0x1ad)],_0x5ff869),this[_0x434d12(0x1db)][_0x434d12(0x1b8)](),await this[_0x434d12(0x1b1)]['start']({'phoneNumber':async()=>await a3_0x1e65af[_0x434d12(0x1e0)](_0x434d12(0x1e1)),'password':async()=>await a3_0x1e65af[_0x434d12(0x1e0)](_0x434d12(0x1b9)),'phoneCode':async()=>await a3_0x1e65af[_0x434d12(0x1e0)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x260dd4=>{const _0xc902ab=_0x434d12;console['log'](_0x260dd4[_0xc902ab(0x1a5)]);}}),console['log']();}catch(_0x5d1c00){throw _0x5d1c00;}}async['resolvePeer'](){const _0x2b93a2=a3_0x2e14ab;try{a3_0x42fcf2[_0x2b93a2(0x1e2)](_0x2b93a2(0x1e9)+this[_0x2b93a2(0x1d2)]+_0x2b93a2(0x1c1));while(this[_0x2b93a2(0x1ed)]==undefined){try{this[_0x2b93a2(0x1ed)]=await this[_0x2b93a2(0x1b1)][_0x2b93a2(0x1cf)](this[_0x2b93a2(0x1ea)]);break;}catch(_0x384621){if(_0x384621 instanceof FloodWaitError){const _0x5a2c00=_0x384621['seconds'];a3_0x42fcf2[_0x2b93a2(0x1a4)](this[_0x2b93a2(0x1b1)][_0x2b93a2(0x1d2)][_0x2b93a2(0x1c8)]+_0x2b93a2(0x1d7)+_0x384621),a3_0x42fcf2[_0x2b93a2(0x1e2)](this[_0x2b93a2(0x1b1)]['session'][_0x2b93a2(0x1c8)]+'\x20|\x20Sleep\x20'+_0x5a2c00+'s'),await Helper['delay']((_0x5a2c00+0x3)*0x3e8);}else throw _0x384621;}}}catch(_0x270df4){throw _0x270df4;}}async[a3_0x2e14ab(0x1d4)](){const _0x4e1d1d=a3_0x2e14ab;await this[_0x4e1d1d(0x1b1)][_0x4e1d1d(0x1d4)](),await this[_0x4e1d1d(0x1b1)]['destroy'](),this[_0x4e1d1d(0x1ed)]=undefined,this[_0x4e1d1d(0x1a9)]=undefined;}async['initWebView'](){const _0x43cbe8=a3_0x2e14ab;try{const _0x12bd67=await this[_0x43cbe8(0x1b1)][_0x43cbe8(0x1d8)](new Api[(_0x43cbe8(0x1a7))][(_0x43cbe8(0x1ec))]({'peer':this[_0x43cbe8(0x1ed)],'bot':this[_0x43cbe8(0x1ed)],'fromBotMenu':!![],'url':this['url'],'platform':_0x43cbe8(0x1c6)}));a3_0x42fcf2[_0x43cbe8(0x1e2)](_0x43cbe8(0x1e9)+this[_0x43cbe8(0x1d2)]+_0x43cbe8(0x1e5));const _0x36069b=_0x12bd67['url'];return Helper['getTelegramQuery'](_0x36069b,0x3);}catch(_0x51b1d9){throw _0x51b1d9;}}}function a3_0x56ba(){const _0x5c75f2=['agent','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','proxy','text','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','info','filter','sessions-','\x20-\x20Webview\x20Connected','https://image.notpx.app/','8IRbbiY','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','Session\x20','bot','1032924cVJfkt','RequestWebView','peer','query-','getSession','Query\x20','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','warn','message','includes','messages','exit','accountName','4UARgzN','Please\x20Enter\x20Telegram\x20Query\x20:\x20','delay','TELEGRAM_APP_HASH','/query.txt','useSession','You\x20dont\x20have\x20any\x20Query\x20Account.','client','error','notpixel','url','TELEGRAM_APP_ID','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','log','save','Enter\x20your\x20Telegram\x20Password?','createDir','1108068hEiTIs','length','2448585cfDypO','accounts','269904cLRaZI','sessionCreation','\x20-\x20Resolving\x20Peer','<empty>\x0a','665682Cbhard','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','saveQueryFile','android','onBoarding','serverAddress','queryCreation','<empty>','Your\x20Account\x20List\x20:\x0a\x20\x0a','queryModificaiton','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','getEntity','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','indexOf','session','1211301DHekbN','disconnect','accountType','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','\x20|\x20FloodWait\x20','invoke','resetAccounts','535635QZesbv','storeSession','Invalid\x20Input'];a3_0x56ba=function(){return _0x5c75f2;};return a3_0x56ba();}