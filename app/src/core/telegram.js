const a3_0x12df9d=a3_0x3705;function a3_0x3705(_0x1389ac,_0x14954d){const _0x194957=a3_0x1949();return a3_0x3705=function(_0x370590,_0x19e293){_0x370590=_0x370590-0x77;let _0x558abd=_0x194957[_0x370590];return _0x558abd;},a3_0x3705(_0x1389ac,_0x14954d);}(function(_0x392d42,_0x37424e){const _0x1f58e5=a3_0x3705,_0x14f63b=_0x392d42();while(!![]){try{const _0x3bb29d=-parseInt(_0x1f58e5(0x7b))/0x1+-parseInt(_0x1f58e5(0xc9))/0x2+-parseInt(_0x1f58e5(0xcd))/0x3*(-parseInt(_0x1f58e5(0x99))/0x4)+-parseInt(_0x1f58e5(0x9c))/0x5+parseInt(_0x1f58e5(0xb5))/0x6+-parseInt(_0x1f58e5(0xb1))/0x7*(parseInt(_0x1f58e5(0x82))/0x8)+-parseInt(_0x1f58e5(0xae))/0x9*(-parseInt(_0x1f58e5(0xac))/0xa);if(_0x3bb29d===_0x37424e)break;else _0x14f63b['push'](_0x14f63b['shift']());}catch(_0x562a8e){_0x14f63b['push'](_0x14f63b['shift']());}}}(a3_0x1949,0x9945f));import a3_0xcf4d64 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x5c88bb from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x1949(){const _0x399e8e=['destroy','/query.txt','\x20-\x20Resolving\x20Peer','query','stringify','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','queryModificaiton','resolvePeer','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','agent','readQueryFile','getSession','Your\x20Account\x20List\x20:\x0a\x20\x0a','accountName','Invalid\x20input,\x20Please\x20try\x20again','Session\x20','52SCDYwa','accounts','\x20|\x20FloodWait\x20','6098475IOXBqc','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','Query\x20','initWebView','start','filter','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','TELEGRAM_APP_ID','peer','queryCreation','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','info','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','includes','Invalid\x20Input','200mohQcz','useSession','1214559VRdlPy','seconds','storeSession','7QtngeE','error','serverAddress','Please\x20Enter\x20Telegram\x20Query\x20:\x20','3100194iaxVzL','RequestWebView','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','TELEGRAM_APP_HASH','log','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','accountType','createDir','getEntity','Old\x20Query\x20:\x20','save','proxy','disconnect','delay','indexOf','client','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','session','\x20-\x20Webview\x20Connected','298330aTDdLw','getTelegramQuery','text','\x20-\x20Created','101787KbDlKF','query-','sessionCreation','notpixel','\x20|\x20Sleep\x20','521488FbBSgw','exit','https://image.notpx.app/','length','onBoarding','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','invoke','9109128SqUnLR','init','<empty>','messages','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','<empty>\x0a','url'];a3_0x1949=function(){return _0x399e8e;};return a3_0x1949();}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x271170=a3_0x3705;this['accountName']=_0x271170(0x9a),this[_0x271170(0x88)]=_0x271170(0x7d),this['bot']=_0x271170(0x79);}async[a3_0x12df9d(0x83)](){const _0x2b5493=a3_0x12df9d;try{await this[_0x2b5493(0x7f)]();}catch(_0x2e7a7b){console[_0x2b5493(0xb9)](_0x2e7a7b),a3_0x5c88bb[_0x2b5493(0xb2)](''+JSON[_0x2b5493(0x8d)](_0x2e7a7b));throw _0x2e7a7b;}}async[a3_0x12df9d(0x7f)](){const _0x3ad359=a3_0x12df9d;try{let _0x263f26=_0x3ad359(0x91);const _0x2ba29f=Helper[_0x3ad359(0x94)]('accounts');if(_0x2ba29f['length']==0x0)_0x263f26+=_0x3ad359(0x84);else for(const _0x3e186a of _0x2ba29f){_0x263f26+='-\x20'+_0x3e186a+'\x0a';}_0x263f26+=_0x3ad359(0xa2),_0x263f26+=_0x3ad359(0xba);const _0x55d8b2=await a3_0xcf4d64[_0x3ad359(0xcb)](_0x263f26);if(_0x55d8b2==0x1)await this[_0x3ad359(0xbc)]();else{if(_0x55d8b2==0x2)Helper['resetAccounts'](),await Helper['delay'](0xbb8),await this['onBoarding']();else{if(_0x55d8b2==0x3)Helper['getSession'](this['accountName'])?.['length']==0x0&&(console[_0x3ad359(0xa8)](_0x3ad359(0x80)),await this[_0x3ad359(0x7f)]());else _0x55d8b2==0x4?await this[_0x3ad359(0x8f)]():(console[_0x3ad359(0xb2)](_0x3ad359(0x97)),await this[_0x3ad359(0x7f)]());}}}catch(_0x5bbea4){throw _0x5bbea4;}}async[a3_0x12df9d(0x8f)](){const _0x55c0f7=a3_0x12df9d;try{const _0x7ce860=Helper[_0x55c0f7(0x94)](_0x55c0f7(0x9a)),_0x30bc7f=_0x7ce860[_0x55c0f7(0xa1)](_0x2b6c39=>_0x2b6c39[_0x55c0f7(0xaa)](_0x55c0f7(0x8c)));let _0xa91311=_0x55c0f7(0x9d);for(const _0x17c0a5 of _0x30bc7f){_0xa91311+=_0x7ce860[_0x55c0f7(0xc4)](_0x17c0a5)+0x1+'.\x20'+_0x17c0a5+'\x0a';}_0x30bc7f[_0x55c0f7(0x7e)]==0x0?(console[_0x55c0f7(0xb9)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x55c0f7(0x7f)]()):_0xa91311+=_0x55c0f7(0xc6);const _0x2711b2=await a3_0xcf4d64[_0x55c0f7(0xcb)](_0xa91311);if(_0x30bc7f[_0x2711b2-0x1]!=undefined){const _0x5745a7=_0x30bc7f[_0x2711b2-0x1];this[_0x55c0f7(0x96)]='accounts/'+_0x5745a7;const _0x6c5572=_0x55c0f7(0xbf)+Helper[_0x55c0f7(0x93)](this['accountName']+_0x55c0f7(0x8a))+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0x5d6499=await a3_0xcf4d64[_0x55c0f7(0xcb)](_0x6c5572);await Helper['saveQueryFile'](this[_0x55c0f7(0x96)],_0x5d6499),await Helper[_0x55c0f7(0xc3)](0xbb8),await this[_0x55c0f7(0x7f)]();}else console[_0x55c0f7(0xb2)](_0x55c0f7(0x97)),await this[_0x55c0f7(0x8f)]();}catch(_0x4ff5f2){throw _0x4ff5f2;}}async['sessionCreation'](){const _0x5aa97f=a3_0x12df9d;try{if(Config[_0x5aa97f(0xa3)]==undefined||Config[_0x5aa97f(0xb8)]==undefined)throw new Error(_0x5aa97f(0xa6));const _0x487f1a=Helper[_0x5aa97f(0x94)](_0x5aa97f(0x9a));let _0x2f8296='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x330309 of _0x487f1a){_0x2f8296+=_0x487f1a[_0x5aa97f(0xc4)](_0x330309)+0x1+'.\x20'+_0x330309+'\x0a';}_0x487f1a[_0x5aa97f(0x7e)]==0x0?_0x2f8296+=_0x5aa97f(0xb7):_0x2f8296+=_0x5aa97f(0x86);const _0x436987=await a3_0xcf4d64[_0x5aa97f(0xcb)](_0x2f8296);this[_0x5aa97f(0x96)]=Helper[_0x5aa97f(0xbd)]('sessions-'+_0x436987),await this[_0x5aa97f(0xad)](this[_0x5aa97f(0x96)]),await this['disconnect'](),a3_0x5c88bb[_0x5aa97f(0xa8)]('Session\x20'+this['accountName']+'\x20-\x20Created'),console['log'](_0x5aa97f(0x98)+_0x436987+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),this[_0x5aa97f(0xb0)][_0x5aa97f(0xc0)](),await Helper[_0x5aa97f(0xc3)](0xbb8),process[_0x5aa97f(0x7c)]();}catch(_0x3ebfbc){throw _0x3ebfbc;}}async[a3_0x12df9d(0xa5)](){const _0x2d3ce6=a3_0x12df9d;try{const _0x3ce5f3=Helper['getSession'](_0x2d3ce6(0x9a));let _0x378f48=_0x2d3ce6(0x95);for(const _0x2fb6d0 of _0x3ce5f3){_0x378f48+=_0x3ce5f3[_0x2d3ce6(0xc4)](_0x2fb6d0)+0x1+'.\x20'+_0x2fb6d0+'\x0a';}_0x3ce5f3[_0x2d3ce6(0x7e)]==0x0?_0x378f48+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:':_0x378f48+=_0x2d3ce6(0xbb);const _0x4a52fe=await a3_0xcf4d64['text'](_0x378f48);this[_0x2d3ce6(0x96)]=Helper[_0x2d3ce6(0xbd)](_0x2d3ce6(0x77)+_0x4a52fe);let _0x5b758d=_0x2d3ce6(0xb4);const _0x4046ca=await a3_0xcf4d64[_0x2d3ce6(0xcb)](_0x5b758d);await Helper['saveQueryFile'](this[_0x2d3ce6(0x96)],_0x4046ca),a3_0x5c88bb[_0x2d3ce6(0xa8)](_0x2d3ce6(0x9e)+this[_0x2d3ce6(0x96)]+_0x2d3ce6(0xcc)),console[_0x2d3ce6(0xb9)](_0x2d3ce6(0x9e)+_0x4a52fe+_0x2d3ce6(0xa7)),await Helper[_0x2d3ce6(0xc3)](0xbb8),process[_0x2d3ce6(0x7c)]();}catch(_0x4ee15e){throw _0x4ee15e;}}async['accountType'](){const _0x213a19=a3_0x12df9d;try{const _0xca883f=Helper[_0x213a19(0x94)](_0x213a19(0x9a));let _0x214d74=_0x213a19(0x95);if(_0xca883f['length']>0x0)for(const _0x1b3724 of _0xca883f){_0x214d74+=_0xca883f['indexOf'](_0x1b3724)+0x1+'.\x20'+_0x1b3724+'\x0a';}else _0x214d74+=_0x213a19(0x87);_0x214d74+=_0x213a19(0xa9);const _0x47a546=await a3_0xcf4d64[_0x213a19(0xcb)](_0x214d74);if(_0x47a546==0x1)await this[_0x213a19(0x78)]();else _0x47a546==0x2?await this[_0x213a19(0xa5)]():(console[_0x213a19(0xb9)](_0x213a19(0xab)),await this[_0x213a19(0xbc)]());}catch(_0x1d971e){throw _0x1d971e;}}async[a3_0x12df9d(0xad)](_0x4868ee,_0x3bb4ac){const _0x530f1c=a3_0x12df9d;try{this[_0x530f1c(0xc1)]=_0x3bb4ac;const _0x40f8b2={'connectionRetries':0x5};this[_0x530f1c(0xc1)]&&(_0x40f8b2[_0x530f1c(0x92)]=new HttpsProxyAgent(this['proxy'])),this[_0x530f1c(0xb0)]=new StoreSession(_0x4868ee),this[_0x530f1c(0xc5)]=new TelegramClient(this[_0x530f1c(0xb0)],Config[_0x530f1c(0xa3)],Config[_0x530f1c(0xb8)],_0x40f8b2),this[_0x530f1c(0xb0)][_0x530f1c(0xc0)](),await this['client'][_0x530f1c(0xa0)]({'phoneNumber':async()=>await a3_0xcf4d64['text']('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a3_0xcf4d64[_0x530f1c(0xcb)]('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0xcf4d64[_0x530f1c(0xcb)](_0x530f1c(0x8e)),'onError':_0x4b3496=>{console['log'](_0x4b3496['message']);}});}catch(_0x22f17c){throw _0x22f17c;}}async[a3_0x12df9d(0x90)](){const _0x12387f=a3_0x12df9d;try{a3_0x5c88bb[_0x12387f(0xa8)](_0x12387f(0x98)+this[_0x12387f(0xc7)]+_0x12387f(0x8b));while(this['peer']==undefined){try{this[_0x12387f(0xa4)]=await this['client'][_0x12387f(0xbe)](this['bot']);break;}catch(_0x1d78d2){if(_0x1d78d2 instanceof FloodWaitError){const _0x5b08ec=_0x1d78d2[_0x12387f(0xaf)];a3_0x5c88bb['warn'](this[_0x12387f(0xc5)][_0x12387f(0xc7)][_0x12387f(0xb3)]+_0x12387f(0x9b)+_0x1d78d2),a3_0x5c88bb[_0x12387f(0xa8)](this[_0x12387f(0xc5)][_0x12387f(0xc7)][_0x12387f(0xb3)]+_0x12387f(0x7a)+_0x5b08ec+'s'),await Helper[_0x12387f(0xc3)]((_0x5b08ec+0x3)*0x3e8);}else throw _0x1d78d2;}}}catch(_0x4c22c0){throw _0x4c22c0;}}async[a3_0x12df9d(0xc2)](){const _0x3e9832=a3_0x12df9d;await this[_0x3e9832(0xc5)][_0x3e9832(0xc2)](),await this[_0x3e9832(0xc5)][_0x3e9832(0x89)](),this['peer']=undefined,this[_0x3e9832(0x96)]=undefined;}async[a3_0x12df9d(0x9f)](){const _0x2b0c22=a3_0x12df9d;try{const _0x13ca81=await this[_0x2b0c22(0xc5)][_0x2b0c22(0x81)](new Api[(_0x2b0c22(0x85))][(_0x2b0c22(0xb6))]({'peer':this['peer'],'bot':this[_0x2b0c22(0xa4)],'fromBotMenu':!![],'url':this[_0x2b0c22(0x88)],'platform':'android'}));a3_0x5c88bb[_0x2b0c22(0xa8)](_0x2b0c22(0x98)+this[_0x2b0c22(0xc7)]+_0x2b0c22(0xc8));const _0x29b4a4=_0x13ca81[_0x2b0c22(0x88)];return Helper[_0x2b0c22(0xca)](_0x29b4a4,0x3);}catch(_0x137db2){throw _0x137db2;}}}