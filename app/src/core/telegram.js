const a3_0xa5b70e=a3_0x23e6;function a3_0x3c87(){const _0x1c27f9=['indexOf','save','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','stringify','<empty>','queryCreation','1104480oSwqCC','accountType','sessionCreation','url','proxy','getSession','1429385wVrBWi','https://image.notpx.app/','/query.txt','useSession','accounts','disconnect','peer','android','invoke','3078GNIcfZ','1702368AZddvu','query','\x20|\x20Sleep\x20','970956LbZKdS','delay','client','9448PHGajp','\x20-\x20Resolving\x20Peer','includes','query-','length','bot','TELEGRAM_APP_HASH','\x20|\x20FloodWait\x20','\x20-\x20Created','error','resolvePeer','seconds','session','storeSession','warn','text','queryModificaiton','filter','Invalid\x20input,\x20Please\x20try\x20again','agent','messages','destroy','Query\x20','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','2YIjegI','readQueryFile','accountName','createDir','onBoarding','301602ihxAWA','Invalid\x20Input','sessions-','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','TELEGRAM_APP_ID','Your\x20Account\x20List\x20:\x0a\x20\x0a','info','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','<empty>\x0a','log','saveQueryFile','Please\x20Enter\x20Telegram\x20Query\x20:\x20','initWebView','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','serverAddress','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','accounts/','72301fCTOoR','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','Session\x20','message','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a'];a3_0x3c87=function(){return _0x1c27f9;};return a3_0x3c87();}(function(_0x8dbc85,_0xebfff9){const _0x3b4a1d=a3_0x23e6,_0x281e9e=_0x8dbc85();while(!![]){try{const _0x5a9887=parseInt(_0x3b4a1d(0x10d))/0x1*(parseInt(_0x3b4a1d(0xf7))/0x2)+parseInt(_0x3b4a1d(0xfc))/0x3+parseInt(_0x3b4a1d(0xc7))/0x4+-parseInt(_0x3b4a1d(0xcd))/0x5+-parseInt(_0x3b4a1d(0xd7))/0x6+-parseInt(_0x3b4a1d(0xda))/0x7+parseInt(_0x3b4a1d(0xdd))/0x8*(parseInt(_0x3b4a1d(0xd6))/0x9);if(_0x5a9887===_0xebfff9)break;else _0x281e9e['push'](_0x281e9e['shift']());}catch(_0x505458){_0x281e9e['push'](_0x281e9e['shift']());}}}(a3_0x3c87,0x234a0));import a3_0x3b5d74 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x51b403 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';function a3_0x23e6(_0x25aca8,_0x2779c0){const _0x3c8720=a3_0x3c87();return a3_0x23e6=function(_0x23e6a7,_0x56c35e){_0x23e6a7=_0x23e6a7-0xbd;let _0xb1c0a6=_0x3c8720[_0x23e6a7];return _0xb1c0a6;},a3_0x23e6(_0x25aca8,_0x2779c0);}import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0xa5b70e(0xea)];constructor(){const _0xda1d0a=a3_0xa5b70e;this[_0xda1d0a(0xf9)]=_0xda1d0a(0xd1),this[_0xda1d0a(0xca)]=_0xda1d0a(0xce),this[_0xda1d0a(0xe2)]='notpixel';}async['init'](){const _0x395ac1=a3_0xa5b70e;try{await this[_0x395ac1(0xfb)]();}catch(_0x43bb18){console[_0x395ac1(0x105)](_0x43bb18),a3_0x51b403['error'](''+JSON[_0x395ac1(0xc4)](_0x43bb18));throw _0x43bb18;}}async['onBoarding'](){const _0x55f66f=a3_0xa5b70e;try{let _0x248c9d=_0x55f66f(0x10b);const _0x1195e2=Helper[_0x55f66f(0xcc)](_0x55f66f(0xd1));if(_0x1195e2[_0x55f66f(0xe1)]==0x0)_0x248c9d+=_0x55f66f(0xc5);else for(const _0x8de87c of _0x1195e2){_0x248c9d+='-\x20'+_0x8de87c+'\x0a';}_0x248c9d+=_0x55f66f(0xc0),_0x248c9d+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0x469245=await a3_0x3b5d74[_0x55f66f(0xec)](_0x248c9d);if(_0x469245==0x1)await this[_0x55f66f(0xc8)]();else{if(_0x469245==0x2)Helper['resetAccounts'](),await Helper[_0x55f66f(0xdb)](0xbb8),await this[_0x55f66f(0xfb)]();else{if(_0x469245==0x3)Helper[_0x55f66f(0xcc)](this['accountName'])?.['length']==0x0&&(console[_0x55f66f(0x102)](_0x55f66f(0x103)),await this['onBoarding']());else _0x469245==0x4?await this[_0x55f66f(0xed)]():(console[_0x55f66f(0xe6)](_0x55f66f(0xef)),await this[_0x55f66f(0xfb)]());}}}catch(_0x45e34f){throw _0x45e34f;}}async[a3_0xa5b70e(0xed)](){const _0x30da4a=a3_0xa5b70e;try{const _0x4df235=Helper[_0x30da4a(0xcc)](_0x30da4a(0xd1)),_0x34259f=_0x4df235[_0x30da4a(0xee)](_0x563983=>_0x563983[_0x30da4a(0xdf)](_0x30da4a(0xd8)));let _0x49f5bf='Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x40e9c2 of _0x34259f){_0x49f5bf+=_0x4df235[_0x30da4a(0xc1)](_0x40e9c2)+0x1+'.\x20'+_0x40e9c2+'\x0a';}_0x34259f[_0x30da4a(0xe1)]==0x0?(console[_0x30da4a(0x105)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x30da4a(0xfb)]()):_0x49f5bf+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x30d7bf=await a3_0x3b5d74[_0x30da4a(0xec)](_0x49f5bf);if(_0x34259f[_0x30d7bf-0x1]!=undefined){const _0x51255d=_0x34259f[_0x30d7bf-0x1];this[_0x30da4a(0xf9)]=_0x30da4a(0x10c)+_0x51255d;const _0x2f20a6='Old\x20Query\x20:\x20'+Helper[_0x30da4a(0xf8)](this[_0x30da4a(0xf9)]+_0x30da4a(0xcf))+_0x30da4a(0x109),_0x477fe8=await a3_0x3b5d74[_0x30da4a(0xec)](_0x2f20a6);await Helper[_0x30da4a(0x106)](this[_0x30da4a(0xf9)],_0x477fe8),await Helper[_0x30da4a(0xdb)](0xbb8),await this['onBoarding']();}else console[_0x30da4a(0xe6)](_0x30da4a(0xef)),await this['queryModificaiton']();}catch(_0x4ea055){throw _0x4ea055;}}async['sessionCreation'](){const _0x5652c9=a3_0xa5b70e;try{if(Config[_0x5652c9(0x100)]==undefined||Config[_0x5652c9(0xe3)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x411a7e=Helper['getSession'](_0x5652c9(0xd1));let _0x28a5ce=_0x5652c9(0x101);for(const _0x519692 of _0x411a7e){_0x28a5ce+=_0x411a7e[_0x5652c9(0xc1)](_0x519692)+0x1+'.\x20'+_0x519692+'\x0a';}_0x411a7e['length']==0x0?_0x28a5ce+=_0x5652c9(0xf6):_0x28a5ce+=_0x5652c9(0xc3);const _0x392f80=await a3_0x3b5d74['text'](_0x28a5ce);this['accountName']=Helper[_0x5652c9(0xfa)](_0x5652c9(0xfe)+_0x392f80),await this[_0x5652c9(0xd0)](this[_0x5652c9(0xf9)]),await this['disconnect'](),a3_0x51b403[_0x5652c9(0x102)](_0x5652c9(0xbe)+this['accountName']+_0x5652c9(0xe5)),console[_0x5652c9(0x105)](_0x5652c9(0xbe)+_0x392f80+_0x5652c9(0xf5)),this[_0x5652c9(0xea)][_0x5652c9(0xc2)](),await Helper[_0x5652c9(0xdb)](0xbb8),process['exit']();}catch(_0x3b565e){throw _0x3b565e;}}async[a3_0xa5b70e(0xc6)](){const _0x2bed88=a3_0xa5b70e;try{const _0x1514a8=Helper[_0x2bed88(0xcc)](_0x2bed88(0xd1));let _0x1aff55='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x1447a6 of _0x1514a8){_0x1aff55+=_0x1514a8['indexOf'](_0x1447a6)+0x1+'.\x20'+_0x1447a6+'\x0a';}_0x1514a8[_0x2bed88(0xe1)]==0x0?_0x1aff55+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:':_0x1aff55+='\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:';const _0x80ccf=await a3_0x3b5d74[_0x2bed88(0xec)](_0x1aff55);this[_0x2bed88(0xf9)]=Helper[_0x2bed88(0xfa)](_0x2bed88(0xe0)+_0x80ccf);let _0x36fb2c=_0x2bed88(0x107);const _0x444f78=await a3_0x3b5d74[_0x2bed88(0xec)](_0x36fb2c);await Helper[_0x2bed88(0x106)](this['accountName'],_0x444f78),a3_0x51b403[_0x2bed88(0x102)]('Query\x20'+this['accountName']+'\x20-\x20Created'),console[_0x2bed88(0x105)](_0x2bed88(0xf3)+_0x80ccf+_0x2bed88(0xf5)),await Helper[_0x2bed88(0xdb)](0xbb8),process['exit']();}catch(_0x4b54d7){throw _0x4b54d7;}}async[a3_0xa5b70e(0xc8)](){const _0x21e0fa=a3_0xa5b70e;try{const _0x58eab5=Helper[_0x21e0fa(0xcc)](_0x21e0fa(0xd1));let _0xc3fad3=_0x21e0fa(0x101);if(_0x58eab5[_0x21e0fa(0xe1)]>0x0)for(const _0x3fb2f4 of _0x58eab5){_0xc3fad3+=_0x58eab5['indexOf'](_0x3fb2f4)+0x1+'.\x20'+_0x3fb2f4+'\x0a';}else _0xc3fad3+=_0x21e0fa(0x104);_0xc3fad3+=_0x21e0fa(0xbd);const _0x216ce2=await a3_0x3b5d74[_0x21e0fa(0xec)](_0xc3fad3);if(_0x216ce2==0x1)await this[_0x21e0fa(0xc9)]();else _0x216ce2==0x2?await this[_0x21e0fa(0xc6)]():(console[_0x21e0fa(0x105)](_0x21e0fa(0xfd)),await this['accountType']());}catch(_0x2f6e27){throw _0x2f6e27;}}async['useSession'](_0x5620c6,_0x4aa056){const _0xf84a7c=a3_0xa5b70e;try{this[_0xf84a7c(0xcb)]=_0x4aa056;const _0x4bd01c={'connectionRetries':0x5};this[_0xf84a7c(0xcb)]&&(_0x4bd01c[_0xf84a7c(0xf0)]=new HttpsProxyAgent(this[_0xf84a7c(0xcb)])),this[_0xf84a7c(0xea)]=new StoreSession(_0x5620c6),this[_0xf84a7c(0xdc)]=new TelegramClient(this['storeSession'],Config['TELEGRAM_APP_ID'],Config[_0xf84a7c(0xe3)],_0x4bd01c),this[_0xf84a7c(0xea)][_0xf84a7c(0xc2)](),await this['client']['start']({'phoneNumber':async()=>await a3_0x3b5d74['text'](_0xf84a7c(0xf4)),'password':async()=>await a3_0x3b5d74['text']('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x3b5d74[_0xf84a7c(0xec)](_0xf84a7c(0xff)),'onError':_0xc8cb0=>{const _0x29af17=_0xf84a7c;console[_0x29af17(0x105)](_0xc8cb0[_0x29af17(0xbf)]);}});}catch(_0x39197a){throw _0x39197a;}}async[a3_0xa5b70e(0xe7)](){const _0x1a3815=a3_0xa5b70e;try{a3_0x51b403[_0x1a3815(0x102)](_0x1a3815(0xbe)+this[_0x1a3815(0xe9)]+_0x1a3815(0xde));while(this[_0x1a3815(0xd3)]==undefined){try{this[_0x1a3815(0xd3)]=await this[_0x1a3815(0xdc)]['getEntity'](this[_0x1a3815(0xe2)]);break;}catch(_0x2cd627){if(_0x2cd627 instanceof FloodWaitError){const _0x2193d4=_0x2cd627[_0x1a3815(0xe8)];a3_0x51b403[_0x1a3815(0xeb)](this['client'][_0x1a3815(0xe9)][_0x1a3815(0x10a)]+_0x1a3815(0xe4)+_0x2cd627),a3_0x51b403['info'](this[_0x1a3815(0xdc)]['session'][_0x1a3815(0x10a)]+_0x1a3815(0xd9)+_0x2193d4+'s'),await Helper[_0x1a3815(0xdb)]((_0x2193d4+0x3)*0x3e8);}else throw _0x2cd627;}}}catch(_0x21533b){throw _0x21533b;}}async[a3_0xa5b70e(0xd2)](){const _0x3f209f=a3_0xa5b70e;await this[_0x3f209f(0xdc)][_0x3f209f(0xd2)](),await this['client'][_0x3f209f(0xf2)](),this['peer']=undefined,this[_0x3f209f(0xf9)]=undefined;}async[a3_0xa5b70e(0x108)](){const _0x171a5b=a3_0xa5b70e;try{const _0x4e6be1=await this[_0x171a5b(0xdc)][_0x171a5b(0xd5)](new Api[(_0x171a5b(0xf1))]['RequestWebView']({'peer':this[_0x171a5b(0xd3)],'bot':this[_0x171a5b(0xd3)],'fromBotMenu':!![],'url':this[_0x171a5b(0xca)],'platform':_0x171a5b(0xd4)}));a3_0x51b403['info'](_0x171a5b(0xbe)+this[_0x171a5b(0xe9)]+'\x20-\x20Webview\x20Connected');const _0x53f125=_0x4e6be1[_0x171a5b(0xca)];return Helper['getTelegramQuery'](_0x53f125,0x3);}catch(_0x277001){throw _0x277001;}}}