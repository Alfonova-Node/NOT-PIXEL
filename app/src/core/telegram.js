const a3_0x5a611b=a3_0x4fd7;(function(_0x15e7d7,_0x3294e6){const _0x62b956=a3_0x4fd7,_0x416531=_0x15e7d7();while(!![]){try{const _0x547dd3=-parseInt(_0x62b956(0x1ae))/0x1*(-parseInt(_0x62b956(0x1c2))/0x2)+-parseInt(_0x62b956(0x1a3))/0x3*(parseInt(_0x62b956(0x1af))/0x4)+parseInt(_0x62b956(0x19c))/0x5*(parseInt(_0x62b956(0x180))/0x6)+-parseInt(_0x62b956(0x1a7))/0x7*(-parseInt(_0x62b956(0x1a2))/0x8)+-parseInt(_0x62b956(0x185))/0x9+parseInt(_0x62b956(0x1b9))/0xa+-parseInt(_0x62b956(0x1cd))/0xb*(parseInt(_0x62b956(0x184))/0xc);if(_0x547dd3===_0x3294e6)break;else _0x416531['push'](_0x416531['shift']());}catch(_0x581480){_0x416531['push'](_0x416531['shift']());}}}(a3_0x36e5,0xab402));import a3_0x4af2ab from'input';import{Helper}from'../utils/helper.js';function a3_0x4fd7(_0x2b0259,_0x5992c){const _0x36e504=a3_0x36e5();return a3_0x4fd7=function(_0x4fd7d6,_0x456697){_0x4fd7d6=_0x4fd7d6-0x17e;let _0x22d0dd=_0x36e504[_0x4fd7d6];return _0x22d0dd;},a3_0x4fd7(_0x2b0259,_0x5992c);}import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x5dd8c5 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x5a611b(0x1c4)];constructor(){const _0x1e827a=a3_0x5a611b;this['accountName']=_0x1e827a(0x18a),this[_0x1e827a(0x1d2)]=_0x1e827a(0x1ca),this[_0x1e827a(0x1b7)]='notpixel';}async[a3_0x5a611b(0x1cf)](){const _0x1f4a6c=a3_0x5a611b;try{await this[_0x1f4a6c(0x1b3)]();}catch(_0x3f7746){console[_0x1f4a6c(0x1c6)](_0x3f7746),a3_0x5dd8c5[_0x1f4a6c(0x197)](''+JSON['stringify'](_0x3f7746));throw _0x3f7746;}}async[a3_0x5a611b(0x1b3)](){const _0x286790=a3_0x5a611b;try{let _0x2aaa2f=_0x286790(0x182);const _0x5bf485=Helper[_0x286790(0x18b)](_0x286790(0x18a));if(_0x5bf485[_0x286790(0x1d6)]==0x0)_0x2aaa2f+=_0x286790(0x1cc);else for(const _0x5eb85a of _0x5bf485){_0x2aaa2f+='-\x20'+_0x5eb85a+'\x0a';}_0x2aaa2f+=_0x286790(0x194),_0x2aaa2f+=_0x286790(0x1b2);const _0x2aefa2=await a3_0x4af2ab[_0x286790(0x1bd)](_0x2aaa2f);if(_0x2aefa2==0x1)await this['accountType']();else{if(_0x2aefa2==0x2)Helper[_0x286790(0x19a)](),await Helper[_0x286790(0x1b5)](0xbb8),await this[_0x286790(0x1b3)]();else{if(_0x2aefa2==0x3)Helper['getSession'](this[_0x286790(0x1a9)])?.['length']==0x0&&(console[_0x286790(0x1d4)](_0x286790(0x1bf)),await this[_0x286790(0x1b3)]());else _0x2aefa2==0x4?await this[_0x286790(0x1b6)]():(console[_0x286790(0x197)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x286790(0x1b3)]());}}}catch(_0x2ca435){throw _0x2ca435;}}async['queryModificaiton'](){const _0x3c1210=a3_0x5a611b;try{const _0x39c59b=Helper['getSession'](_0x3c1210(0x18a)),_0x3a70a4=_0x39c59b['filter'](_0x1dfc19=>_0x1dfc19[_0x3c1210(0x198)](_0x3c1210(0x1c0)));let _0x485d53=_0x3c1210(0x19d);for(const _0x2963f4 of _0x3a70a4){_0x485d53+=_0x39c59b[_0x3c1210(0x186)](_0x2963f4)+0x1+'.\x20'+_0x2963f4+'\x0a';}_0x3a70a4[_0x3c1210(0x1d6)]==0x0?(console[_0x3c1210(0x1c6)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x3c1210(0x1b3)]()):_0x485d53+=_0x3c1210(0x1ac);const _0x38657b=await a3_0x4af2ab['text'](_0x485d53);if(_0x3a70a4[_0x38657b-0x1]!=undefined){const _0x52e25c=_0x3a70a4[_0x38657b-0x1];this[_0x3c1210(0x1a9)]=_0x3c1210(0x1c1)+_0x52e25c;const _0x309ef2=_0x3c1210(0x1b0)+Helper[_0x3c1210(0x188)](this['accountName']+'/query.txt')+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0x163673=await a3_0x4af2ab[_0x3c1210(0x1bd)](_0x309ef2);await Helper[_0x3c1210(0x1a1)](this['accountName'],_0x163673),await Helper[_0x3c1210(0x1b5)](0xbb8),await this['onBoarding']();}else console[_0x3c1210(0x197)](_0x3c1210(0x1be)),await this[_0x3c1210(0x1b6)]();}catch(_0x27aa5f){throw _0x27aa5f;}}async['sessionCreation'](){const _0x4c873e=a3_0x5a611b;try{if(Config[_0x4c873e(0x1b8)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error(_0x4c873e(0x18f));const _0x49623b=Helper['getSession']('accounts');let _0x347dbb=_0x4c873e(0x191);for(const _0x439365 of _0x49623b){_0x347dbb+=_0x49623b[_0x4c873e(0x186)](_0x439365)+0x1+'.\x20'+_0x439365+'\x0a';}_0x49623b[_0x4c873e(0x1d6)]==0x0?_0x347dbb+=_0x4c873e(0x1c7):_0x347dbb+=_0x4c873e(0x1bc);const _0x17292c=await a3_0x4af2ab[_0x4c873e(0x1bd)](_0x347dbb);this[_0x4c873e(0x1a9)]=Helper[_0x4c873e(0x187)]('sessions-'+_0x17292c),await this['useSession'](this[_0x4c873e(0x1a9)]),await this[_0x4c873e(0x1cb)](),a3_0x5dd8c5['info']('Session\x20'+this[_0x4c873e(0x1a9)]+'\x20-\x20Created'),console[_0x4c873e(0x1c6)](_0x4c873e(0x17e)+_0x17292c+_0x4c873e(0x1a8)),this['storeSession']['save'](),await Helper[_0x4c873e(0x1b5)](0xbb8),process[_0x4c873e(0x1a6)]();}catch(_0x5d2773){throw _0x5d2773;}}async[a3_0x5a611b(0x1d5)](){const _0x435738=a3_0x5a611b;try{const _0x530587=Helper[_0x435738(0x18b)](_0x435738(0x18a));let _0x41e787='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x2a9a62 of _0x530587){_0x41e787+=_0x530587['indexOf'](_0x2a9a62)+0x1+'.\x20'+_0x2a9a62+'\x0a';}_0x530587[_0x435738(0x1d6)]==0x0?_0x41e787+=_0x435738(0x181):_0x41e787+=_0x435738(0x199);const _0x5d8274=await a3_0x4af2ab[_0x435738(0x1bd)](_0x41e787);this[_0x435738(0x1a9)]=Helper['createDir'](_0x435738(0x1ce)+_0x5d8274);let _0x11ff5c='Please\x20Enter\x20Telegram\x20Query\x20:\x20';const _0x4fc7a4=await a3_0x4af2ab[_0x435738(0x1bd)](_0x11ff5c);await Helper[_0x435738(0x1a1)](this['accountName'],_0x4fc7a4),a3_0x5dd8c5[_0x435738(0x1d4)](_0x435738(0x1a4)+this[_0x435738(0x1a9)]+_0x435738(0x18d)),console[_0x435738(0x1c6)]('Query\x20'+_0x5d8274+_0x435738(0x1a8)),await Helper[_0x435738(0x1b5)](0xbb8),process[_0x435738(0x1a6)]();}catch(_0x476372){throw _0x476372;}}async[a3_0x5a611b(0x189)](){const _0x14a7b1=a3_0x5a611b;try{const _0x2111ab=Helper['getSession']('accounts');let _0x58460b=_0x14a7b1(0x191);if(_0x2111ab['length']>0x0)for(const _0x35bcb0 of _0x2111ab){_0x58460b+=_0x2111ab[_0x14a7b1(0x186)](_0x35bcb0)+0x1+'.\x20'+_0x35bcb0+'\x0a';}else _0x58460b+=_0x14a7b1(0x1d3);_0x58460b+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x4b8ec4=await a3_0x4af2ab[_0x14a7b1(0x1bd)](_0x58460b);if(_0x4b8ec4==0x1)await this['sessionCreation']();else _0x4b8ec4==0x2?await this['queryCreation']():(console[_0x14a7b1(0x1c6)](_0x14a7b1(0x18c)),await this[_0x14a7b1(0x189)]());}catch(_0x3c8cbf){throw _0x3c8cbf;}}async[a3_0x5a611b(0x1c5)](_0x1299af,_0x6d1ea){const _0x186c87=a3_0x5a611b;try{this[_0x186c87(0x1c8)]=_0x6d1ea;const _0x84b45c={'connectionRetries':0x5};this[_0x186c87(0x1c8)]&&(_0x84b45c['agent']=new HttpsProxyAgent(this[_0x186c87(0x1c8)])),this['storeSession']=new StoreSession(_0x1299af),this['client']=new TelegramClient(this[_0x186c87(0x1c4)],Config[_0x186c87(0x1b8)],Config[_0x186c87(0x19e)],_0x84b45c),this['storeSession'][_0x186c87(0x17f)](),await this['client'][_0x186c87(0x183)]({'phoneNumber':async()=>await a3_0x4af2ab[_0x186c87(0x1bd)](_0x186c87(0x1d1)),'password':async()=>await a3_0x4af2ab[_0x186c87(0x1bd)](_0x186c87(0x1ba)),'phoneCode':async()=>await a3_0x4af2ab[_0x186c87(0x1bd)](_0x186c87(0x1c3)),'onError':_0x5caa66=>{const _0x3c6f99=_0x186c87;console[_0x3c6f99(0x1c6)](_0x5caa66[_0x3c6f99(0x1ad)]);}});}catch(_0x26093d){throw _0x26093d;}}async[a3_0x5a611b(0x18e)](){const _0xc5dc4a=a3_0x5a611b;try{a3_0x5dd8c5[_0xc5dc4a(0x1d4)](_0xc5dc4a(0x17e)+this[_0xc5dc4a(0x1c9)]+_0xc5dc4a(0x19b));while(this['peer']==undefined){try{this[_0xc5dc4a(0x190)]=await this[_0xc5dc4a(0x1aa)][_0xc5dc4a(0x1ab)](this[_0xc5dc4a(0x1b7)]);break;}catch(_0x12be00){if(_0x12be00 instanceof FloodWaitError){const _0x12ed59=_0x12be00[_0xc5dc4a(0x1bb)];a3_0x5dd8c5[_0xc5dc4a(0x193)](this['client'][_0xc5dc4a(0x1c9)]['serverAddress']+_0xc5dc4a(0x1b4)+_0x12be00),a3_0x5dd8c5[_0xc5dc4a(0x1d4)](this[_0xc5dc4a(0x1aa)][_0xc5dc4a(0x1c9)]['serverAddress']+_0xc5dc4a(0x192)+_0x12ed59+'s'),await Helper[_0xc5dc4a(0x1b5)]((_0x12ed59+0x3)*0x3e8);}else throw _0x12be00;}}}catch(_0x457206){throw _0x457206;}}async['disconnect'](){const _0x3685d4=a3_0x5a611b;await this['client']['disconnect'](),await this['client']['destroy'](),this['peer']=undefined,this[_0x3685d4(0x1a9)]=undefined;}async[a3_0x5a611b(0x1b1)](){const _0x2f53d8=a3_0x5a611b;try{const _0x7dd0f9=await this['client'][_0x2f53d8(0x1a5)](new Api[(_0x2f53d8(0x19f))][(_0x2f53d8(0x195))]({'peer':this[_0x2f53d8(0x190)],'bot':this[_0x2f53d8(0x190)],'fromBotMenu':!![],'url':this[_0x2f53d8(0x1d2)],'platform':_0x2f53d8(0x196)}));a3_0x5dd8c5[_0x2f53d8(0x1d4)](_0x2f53d8(0x17e)+this['session']+_0x2f53d8(0x1a0));const _0xa79a81=_0x7dd0f9[_0x2f53d8(0x1d2)];return Helper[_0x2f53d8(0x1d0)](_0xa79a81,0x3);}catch(_0x459c51){throw _0x459c51;}}}function a3_0x36e5(){const _0x216ce1=['accountType','accounts','getSession','Invalid\x20Input','\x20-\x20Created','resolvePeer','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','peer','Your\x20Account\x20List\x20:\x0a\x20\x0a','\x20|\x20Sleep\x20','warn','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','RequestWebView','android','error','includes','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','resetAccounts','\x20-\x20Resolving\x20Peer','3886015zcpGSY','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','TELEGRAM_APP_HASH','messages','\x20-\x20Webview\x20Connected','saveQueryFile','4374856LKHefv','462DWqPCE','Query\x20','invoke','exit','7skLFVm','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','accountName','client','getEntity','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','message','11327GkJZMI','8472FsYbuv','Old\x20Query\x20:\x20','initWebView','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','onBoarding','\x20|\x20FloodWait\x20','delay','queryModificaiton','bot','TELEGRAM_APP_ID','3210130vaCGYq','Enter\x20your\x20Telegram\x20Password?','seconds','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','text','Invalid\x20input,\x20Please\x20try\x20again','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','query','accounts/','6IWzkBi','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','storeSession','useSession','log','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','proxy','session','https://image.notpx.app/','disconnect','<empty>','11AbkJJj','query-','init','getTelegramQuery','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','url','<empty>\x0a','info','queryCreation','length','Session\x20','save','6vdMGRa','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','start','933684mLTaAd','5162697VRFqSE','indexOf','createDir','readQueryFile'];a3_0x36e5=function(){return _0x216ce1;};return a3_0x36e5();}