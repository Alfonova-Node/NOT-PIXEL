const a3_0x4a6aab=a3_0x42a2;(function(_0x433dd6,_0x1cfcb8){const _0x4c0ec2=a3_0x42a2,_0x5a6bc9=_0x433dd6();while(!![]){try{const _0x59010e=parseInt(_0x4c0ec2(0xcf))/0x1*(-parseInt(_0x4c0ec2(0xb2))/0x2)+-parseInt(_0x4c0ec2(0xc5))/0x3+parseInt(_0x4c0ec2(0x80))/0x4*(parseInt(_0x4c0ec2(0x9a))/0x5)+parseInt(_0x4c0ec2(0xae))/0x6*(parseInt(_0x4c0ec2(0xad))/0x7)+-parseInt(_0x4c0ec2(0xb5))/0x8+-parseInt(_0x4c0ec2(0xa5))/0x9*(-parseInt(_0x4c0ec2(0xd0))/0xa)+-parseInt(_0x4c0ec2(0x83))/0xb*(-parseInt(_0x4c0ec2(0xb7))/0xc);if(_0x59010e===_0x1cfcb8)break;else _0x5a6bc9['push'](_0x5a6bc9['shift']());}catch(_0x27da39){_0x5a6bc9['push'](_0x5a6bc9['shift']());}}}(a3_0x3522,0xae27e));function a3_0x42a2(_0x48cb75,_0x18fb0e){const _0x3522a5=a3_0x3522();return a3_0x42a2=function(_0x42a2c0,_0x4038e6){_0x42a2c0=_0x42a2c0-0x79;let _0x3d9fbf=_0x3522a5[_0x42a2c0];return _0x3d9fbf;},a3_0x42a2(_0x48cb75,_0x18fb0e);}import a3_0x10d52e from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0xdc1aed from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x4a6aab(0xb6)];constructor(){const _0x12d9c5=a3_0x4a6aab;this[_0x12d9c5(0x8b)]='accounts',this[_0x12d9c5(0x86)]=_0x12d9c5(0xbd),this[_0x12d9c5(0xb0)]=_0x12d9c5(0xc1);}async['init'](){const _0x2aefba=a3_0x4a6aab;try{await this[_0x2aefba(0x8e)]();}catch(_0x2f32cb){console['log'](_0x2f32cb),a3_0xdc1aed[_0x2aefba(0x95)](''+JSON[_0x2aefba(0x97)](_0x2f32cb));throw _0x2f32cb;}}async[a3_0x4a6aab(0x8e)](){const _0x1322d0=a3_0x4a6aab;try{let _0x11a421=_0x1322d0(0xb8);const _0xc5c7ce=Helper[_0x1322d0(0x9c)](_0x1322d0(0x88));if(_0xc5c7ce[_0x1322d0(0xb9)]==0x0)_0x11a421+='<empty>';else for(const _0x4be385 of _0xc5c7ce){_0x11a421+='-\x20'+_0x4be385+'\x0a';}_0x11a421+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x11a421+=_0x1322d0(0xbc);const _0x104120=await a3_0x10d52e[_0x1322d0(0x7e)](_0x11a421);if(_0x104120==0x1)await this[_0x1322d0(0xa2)]();else{if(_0x104120==0x2)Helper[_0x1322d0(0x79)](),await Helper[_0x1322d0(0x9b)](0xbb8),await this['onBoarding']();else{if(_0x104120==0x3)Helper['getSession'](this[_0x1322d0(0x8b)])?.[_0x1322d0(0xb9)]==0x0&&(console[_0x1322d0(0x99)](_0x1322d0(0x81)),await this[_0x1322d0(0x8e)]());else _0x104120==0x4?await this['queryModificaiton']():(console[_0x1322d0(0x95)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x1322d0(0x8e)]());}}}catch(_0x548461){throw _0x548461;}}async[a3_0x4a6aab(0xcc)](){const _0x2e817c=a3_0x4a6aab;try{const _0x58b1bf=Helper['getSession'](_0x2e817c(0x88)),_0x2131ea=_0x58b1bf[_0x2e817c(0x8c)](_0x5166da=>_0x5166da[_0x2e817c(0x90)](_0x2e817c(0x82)));let _0x29e986=_0x2e817c(0xa7);for(const _0x1f1716 of _0x2131ea){_0x29e986+=_0x58b1bf['indexOf'](_0x1f1716)+0x1+'.\x20'+_0x1f1716+'\x0a';}_0x2131ea['length']==0x0?(console['log'](_0x2e817c(0xc0)),await this[_0x2e817c(0x8e)]()):_0x29e986+=_0x2e817c(0x7a);const _0x17d00d=await a3_0x10d52e[_0x2e817c(0x7e)](_0x29e986);if(_0x2131ea[_0x17d00d-0x1]!=undefined){const _0x40396f=_0x2131ea[_0x17d00d-0x1];this[_0x2e817c(0x8b)]=_0x2e817c(0x9f)+_0x40396f;const _0xb228d0=_0x2e817c(0xce)+Helper[_0x2e817c(0x7f)](this['accountName']+_0x2e817c(0x84))+_0x2e817c(0xba),_0x36db5d=await a3_0x10d52e['text'](_0xb228d0);await Helper[_0x2e817c(0xab)](this[_0x2e817c(0x8b)],_0x36db5d),await Helper['delay'](0xbb8),await this['onBoarding']();}else console[_0x2e817c(0x95)](_0x2e817c(0x89)),await this[_0x2e817c(0xcc)]();}catch(_0x1f16ac){throw _0x1f16ac;}}async[a3_0x4a6aab(0xac)](){const _0x1466a9=a3_0x4a6aab;try{if(Config[_0x1466a9(0xa1)]==undefined||Config[_0x1466a9(0x7c)]==undefined)throw new Error(_0x1466a9(0x93));const _0x71fb72=Helper[_0x1466a9(0x9c)](_0x1466a9(0x88));let _0xa5b66='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x311ac5 of _0x71fb72){_0xa5b66+=_0x71fb72[_0x1466a9(0xc9)](_0x311ac5)+0x1+'.\x20'+_0x311ac5+'\x0a';}_0x71fb72[_0x1466a9(0xb9)]==0x0?_0xa5b66+=_0x1466a9(0x7d):_0xa5b66+=_0x1466a9(0x8f);const _0x4e0fbf=await a3_0x10d52e['text'](_0xa5b66);this['accountName']=Helper['createDir']('sessions-'+_0x4e0fbf),await this[_0x1466a9(0xc3)](this[_0x1466a9(0x8b)]),await this[_0x1466a9(0xcb)](),a3_0xdc1aed[_0x1466a9(0x99)](_0x1466a9(0xbb)+this['accountName']+_0x1466a9(0xcd)),console[_0x1466a9(0xa9)]('Session\x20'+_0x4e0fbf+_0x1466a9(0xc8)),this['storeSession'][_0x1466a9(0xa6)](),await Helper[_0x1466a9(0x9b)](0xbb8),process[_0x1466a9(0xa4)]();}catch(_0x4ab76f){throw _0x4ab76f;}}async[a3_0x4a6aab(0xbf)](){const _0x2e5abe=a3_0x4a6aab;try{const _0x2649fd=Helper['getSession']('accounts');let _0x43d4ec=_0x2e5abe(0x92);for(const _0x21f6d0 of _0x2649fd){_0x43d4ec+=_0x2649fd[_0x2e5abe(0xc9)](_0x21f6d0)+0x1+'.\x20'+_0x21f6d0+'\x0a';}_0x2649fd[_0x2e5abe(0xb9)]==0x0?_0x43d4ec+=_0x2e5abe(0xc2):_0x43d4ec+='\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:';const _0x56965c=await a3_0x10d52e[_0x2e5abe(0x7e)](_0x43d4ec);this['accountName']=Helper['createDir']('query-'+_0x56965c);let _0x2435fc=_0x2e5abe(0xc7);const _0xa8c78b=await a3_0x10d52e[_0x2e5abe(0x7e)](_0x2435fc);await Helper[_0x2e5abe(0xab)](this['accountName'],_0xa8c78b),a3_0xdc1aed[_0x2e5abe(0x99)](_0x2e5abe(0xa0)+this[_0x2e5abe(0x8b)]+_0x2e5abe(0xcd)),console[_0x2e5abe(0xa9)](_0x2e5abe(0xa0)+_0x56965c+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper[_0x2e5abe(0x9b)](0xbb8),process[_0x2e5abe(0xa4)]();}catch(_0x3d9708){throw _0x3d9708;}}async[a3_0x4a6aab(0xa2)](){const _0x429ca0=a3_0x4a6aab;try{const _0x1abb3b=Helper['getSession'](_0x429ca0(0x88));let _0x2bbf6f='Your\x20Account\x20List\x20:\x0a\x20\x0a';if(_0x1abb3b[_0x429ca0(0xb9)]>0x0)for(const _0x5cf165 of _0x1abb3b){_0x2bbf6f+=_0x1abb3b['indexOf'](_0x5cf165)+0x1+'.\x20'+_0x5cf165+'\x0a';}else _0x2bbf6f+=_0x429ca0(0x9e);_0x2bbf6f+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x562b22=await a3_0x10d52e[_0x429ca0(0x7e)](_0x2bbf6f);if(_0x562b22==0x1)await this['sessionCreation']();else _0x562b22==0x2?await this[_0x429ca0(0xbf)]():(console['log'](_0x429ca0(0xc4)),await this[_0x429ca0(0xa2)]());}catch(_0x118fd2){throw _0x118fd2;}}async[a3_0x4a6aab(0xc3)](_0x104404,_0x5ba96f){const _0x5e4d89=a3_0x4a6aab;try{this[_0x5e4d89(0x7b)]=_0x5ba96f;const _0x180863={'connectionRetries':0x5};this[_0x5e4d89(0x7b)]&&(_0x180863[_0x5e4d89(0xb1)]=new HttpsProxyAgent(this[_0x5e4d89(0x7b)])),this[_0x5e4d89(0xb6)]=new StoreSession(_0x104404),this[_0x5e4d89(0xb3)]=new TelegramClient(this['storeSession'],Config[_0x5e4d89(0xa1)],Config[_0x5e4d89(0x7c)],_0x180863),this[_0x5e4d89(0xb6)][_0x5e4d89(0xa6)](),await this[_0x5e4d89(0xb3)][_0x5e4d89(0xb4)]({'phoneNumber':async()=>await a3_0x10d52e[_0x5e4d89(0x7e)](_0x5e4d89(0xaa)),'password':async()=>await a3_0x10d52e['text'](_0x5e4d89(0x85)),'phoneCode':async()=>await a3_0x10d52e['text'](_0x5e4d89(0xca)),'onError':_0x3f8d89=>{console['log'](_0x3f8d89['message']);}});}catch(_0x2e4aac){throw _0x2e4aac;}}async['resolvePeer'](){const _0x12612d=a3_0x4a6aab;try{a3_0xdc1aed[_0x12612d(0x99)](_0x12612d(0xbb)+this[_0x12612d(0x8d)]+'\x20-\x20Resolving\x20Peer');while(this['peer']==undefined){try{this[_0x12612d(0xa8)]=await this[_0x12612d(0xb3)]['getEntity'](this[_0x12612d(0xb0)]);break;}catch(_0x1fa452){if(_0x1fa452 instanceof FloodWaitError){const _0xb6330b=_0x1fa452[_0x12612d(0x9d)];a3_0xdc1aed['warn'](this['client'][_0x12612d(0x8d)][_0x12612d(0x8a)]+_0x12612d(0x98)+_0x1fa452),a3_0xdc1aed[_0x12612d(0x99)](this[_0x12612d(0xb3)]['session']['serverAddress']+_0x12612d(0xc6)+_0xb6330b+'s'),await Helper[_0x12612d(0x9b)]((_0xb6330b+0x3)*0x3e8);}else throw _0x1fa452;}}}catch(_0x32b435){throw _0x32b435;}}async[a3_0x4a6aab(0xcb)](){const _0x4a9a7a=a3_0x4a6aab;await this['client'][_0x4a9a7a(0xcb)](),await this[_0x4a9a7a(0xb3)][_0x4a9a7a(0x96)](),this['peer']=undefined,this['accountName']=undefined;}async[a3_0x4a6aab(0xaf)](){const _0x3f7e9f=a3_0x4a6aab;try{const _0x11487c=await this[_0x3f7e9f(0xb3)][_0x3f7e9f(0xa3)](new Api[(_0x3f7e9f(0x91))][(_0x3f7e9f(0x87))]({'peer':this['peer'],'bot':this[_0x3f7e9f(0xa8)],'fromBotMenu':!![],'url':this[_0x3f7e9f(0x86)],'platform':_0x3f7e9f(0xbe)}));a3_0xdc1aed['info']('Session\x20'+this[_0x3f7e9f(0x8d)]+'\x20-\x20Webview\x20Connected');const _0x443f87=_0x11487c[_0x3f7e9f(0x86)];return Helper[_0x3f7e9f(0x94)](_0x443f87,0x3);}catch(_0x5aecb4){throw _0x5aecb4;}}}function a3_0x3522(){const _0x56ca76=['invoke','exit','7017336HwNlUb','save','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','peer','log','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','saveQueryFile','sessionCreation','7rtjSDw','122358BhbSyh','initWebView','bot','agent','3896RdAXkz','client','start','11306224jlYsuY','storeSession','156xgjGOT','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','length','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','Session\x20','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','https://image.notpx.app/','android','queryCreation','You\x20dont\x20have\x20any\x20Query\x20Account.','notpixel','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','useSession','Invalid\x20Input','1381740cHIkOf','\x20|\x20Sleep\x20','Please\x20Enter\x20Telegram\x20Query\x20:\x20','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','indexOf','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','disconnect','queryModificaiton','\x20-\x20Created','Old\x20Query\x20:\x20','139jfFood','10ZAFRbW','resetAccounts','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','proxy','TELEGRAM_APP_HASH','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','text','readQueryFile','20HUkJvF','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','query','617650ccaKxD','/query.txt','Enter\x20your\x20Telegram\x20Password?','url','RequestWebView','accounts','Invalid\x20input,\x20Please\x20try\x20again','serverAddress','accountName','filter','session','onBoarding','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','includes','messages','Your\x20Account\x20List\x20:\x0a\x20\x0a','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','getTelegramQuery','error','destroy','stringify','\x20|\x20FloodWait\x20','info','1327925uEMjqQ','delay','getSession','seconds','<empty>\x0a','accounts/','Query\x20','TELEGRAM_APP_ID','accountType'];a3_0x3522=function(){return _0x56ca76;};return a3_0x3522();}