const a3_0x27958e=a3_0x27c7;(function(_0x58ee95,_0x5e84bb){const _0x31fb1e=a3_0x27c7,_0x4e0752=_0x58ee95();while(!![]){try{const _0x1cba8d=-parseInt(_0x31fb1e(0xeb))/0x1+-parseInt(_0x31fb1e(0xe0))/0x2+-parseInt(_0x31fb1e(0x11c))/0x3*(parseInt(_0x31fb1e(0xd5))/0x4)+parseInt(_0x31fb1e(0x111))/0x5*(parseInt(_0x31fb1e(0x114))/0x6)+-parseInt(_0x31fb1e(0xee))/0x7+parseInt(_0x31fb1e(0xe7))/0x8+parseInt(_0x31fb1e(0x11e))/0x9*(parseInt(_0x31fb1e(0xef))/0xa);if(_0x1cba8d===_0x5e84bb)break;else _0x4e0752['push'](_0x4e0752['shift']());}catch(_0x5b6ea4){_0x4e0752['push'](_0x4e0752['shift']());}}}(a3_0x5e9b,0x397e7));import a3_0x47594e from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x567f6e from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';function a3_0x27c7(_0x1d1541,_0x188a6c){const _0x5e9bfe=a3_0x5e9b();return a3_0x27c7=function(_0x27c7a5,_0x4d0428){_0x27c7a5=_0x27c7a5-0xd4;let _0x8bfaa=_0x5e9bfe[_0x27c7a5];return _0x8bfaa;},a3_0x27c7(_0x1d1541,_0x188a6c);}function a3_0x5e9b(){const _0x2509ad=['bot','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','text','disconnect','1762408xTMvBD','indexOf','\x20-\x20Webview\x20Connected','getEntity','135957joZpdI','useSession','messages','1748320GARLXK','30yWHrSy','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','proxy','onBoarding','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','sessionCreation','android','resetAccounts','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','readQueryFile','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','\x20-\x20Resolving\x20Peer','\x20|\x20FloodWait\x20','TELEGRAM_APP_HASH','\x20-\x20Created','error','\x20|\x20Sleep\x20','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','saveQueryFile','exit','RequestWebView','delay','log','Please\x20Enter\x20Telegram\x20Query\x20:\x20','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','query-','Invalid\x20input,\x20Please\x20try\x20again','length','session','accountType','peer','save','includes','55uDjuFx','Enter\x20your\x20Telegram\x20Password?','sessions-','167298OWFScQ','Query\x20','serverAddress','queryModificaiton','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','start','accountName','accounts','222QNBRfZ','TELEGRAM_APP_ID','1863153tzAhKJ','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','info','destroy','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','Your\x20Account\x20List\x20:\x0a\x20\x0a','createDir','seconds','queryCreation','16684VtEjoA','filter','resolvePeer','initWebView','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','storeSession','warn','getSession','Old\x20Query\x20:\x20','stringify','client','436398IVMrAq','Invalid\x20Input','Session\x20'];a3_0x5e9b=function(){return _0x2509ad;};return a3_0x5e9b();}import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x14a4e9=a3_0x27c7;this[_0x14a4e9(0x11a)]=_0x14a4e9(0x11b),this['url']='https://image.notpx.app/',this[_0x14a4e9(0xe3)]='notpixel';}async['init'](){const _0x46ef94=a3_0x27c7;try{await this[_0x46ef94(0xf3)]();}catch(_0x4fe809){console[_0x46ef94(0x106)](_0x4fe809),a3_0x567f6e[_0x46ef94(0xff)](''+JSON[_0x46ef94(0xde)](_0x4fe809));throw _0x4fe809;}}async[a3_0x27958e(0xf3)](){const _0x45de44=a3_0x27958e;try{let _0x1b28c3=_0x45de44(0x118);const _0xa502f4=Helper['getSession']('accounts');if(_0xa502f4['length']==0x0)_0x1b28c3+='<empty>';else for(const _0x2c91b2 of _0xa502f4){_0x1b28c3+='-\x20'+_0x2c91b2+'\x0a';}_0x1b28c3+=_0x45de44(0x101),_0x1b28c3+=_0x45de44(0xf8);const _0x3341c6=await a3_0x47594e[_0x45de44(0xe5)](_0x1b28c3);if(_0x3341c6==0x1)await this[_0x45de44(0x10d)]();else{if(_0x3341c6==0x2)Helper[_0x45de44(0xf7)](),await Helper[_0x45de44(0x105)](0xbb8),await this['onBoarding']();else{if(_0x3341c6==0x3)Helper[_0x45de44(0xdc)](this[_0x45de44(0x11a)])?.[_0x45de44(0x10b)]==0x0&&(console['info'](_0x45de44(0xf4)),await this[_0x45de44(0xf3)]());else _0x3341c6==0x4?await this[_0x45de44(0x117)]():(console['error']('Invalid\x20input,\x20Please\x20try\x20again'),await this['onBoarding']());}}}catch(_0x1defcf){throw _0x1defcf;}}async[a3_0x27958e(0x117)](){const _0x40f809=a3_0x27958e;try{const _0x129883=Helper['getSession'](_0x40f809(0x11b)),_0x1e50f9=_0x129883[_0x40f809(0xd6)](_0x2c5fd7=>_0x2c5fd7[_0x40f809(0x110)]('query'));let _0xcd4518=_0x40f809(0xd9);for(const _0x4e08d6 of _0x1e50f9){_0xcd4518+=_0x129883[_0x40f809(0xe8)](_0x4e08d6)+0x1+'.\x20'+_0x4e08d6+'\x0a';}_0x1e50f9[_0x40f809(0x10b)]==0x0?(console[_0x40f809(0x106)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x40f809(0xf3)]()):_0xcd4518+=_0x40f809(0xe4);const _0xe60d68=await a3_0x47594e[_0x40f809(0xe5)](_0xcd4518);if(_0x1e50f9[_0xe60d68-0x1]!=undefined){const _0x587134=_0x1e50f9[_0xe60d68-0x1];this['accountName']='accounts/'+_0x587134;const _0x5d6ef0=_0x40f809(0xdd)+Helper[_0x40f809(0xf9)](this[_0x40f809(0x11a)]+'/query.txt')+_0x40f809(0x11f),_0x2cb05d=await a3_0x47594e['text'](_0x5d6ef0);await Helper[_0x40f809(0x102)](this[_0x40f809(0x11a)],_0x2cb05d),await Helper[_0x40f809(0x105)](0xbb8),await this['onBoarding']();}else console['error'](_0x40f809(0x10a)),await this[_0x40f809(0x117)]();}catch(_0x13c2a1){throw _0x13c2a1;}}async[a3_0x27958e(0xf5)](){const _0x69f8d3=a3_0x27958e;try{if(Config[_0x69f8d3(0x11d)]==undefined||Config[_0x69f8d3(0xfd)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x3a430f=Helper[_0x69f8d3(0xdc)](_0x69f8d3(0x11b));let _0x15cf53=_0x69f8d3(0x123);for(const _0x4809dd of _0x3a430f){_0x15cf53+=_0x3a430f['indexOf'](_0x4809dd)+0x1+'.\x20'+_0x4809dd+'\x0a';}_0x3a430f['length']==0x0?_0x15cf53+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x15cf53+=_0x69f8d3(0xf0);const _0x5d6efe=await a3_0x47594e[_0x69f8d3(0xe5)](_0x15cf53);this[_0x69f8d3(0x11a)]=Helper[_0x69f8d3(0x124)](_0x69f8d3(0x113)+_0x5d6efe),await this[_0x69f8d3(0xec)](this[_0x69f8d3(0x11a)]),await this['disconnect'](),a3_0x567f6e[_0x69f8d3(0x120)](_0x69f8d3(0xe2)+this[_0x69f8d3(0x11a)]+'\x20-\x20Created'),console[_0x69f8d3(0x106)](_0x69f8d3(0xe2)+_0x5d6efe+_0x69f8d3(0xfa)),this[_0x69f8d3(0xda)][_0x69f8d3(0x10f)](),await Helper[_0x69f8d3(0x105)](0xbb8),process[_0x69f8d3(0x103)]();}catch(_0x4d616b){throw _0x4d616b;}}async['queryCreation'](){const _0x1df77a=a3_0x27958e;try{const _0x52224e=Helper['getSession'](_0x1df77a(0x11b));let _0x2b6700=_0x1df77a(0x123);for(const _0x31b2de of _0x52224e){_0x2b6700+=_0x52224e['indexOf'](_0x31b2de)+0x1+'.\x20'+_0x31b2de+'\x0a';}_0x52224e[_0x1df77a(0x10b)]==0x0?_0x2b6700+=_0x1df77a(0x122):_0x2b6700+=_0x1df77a(0xf1);const _0xf8cd21=await a3_0x47594e[_0x1df77a(0xe5)](_0x2b6700);this[_0x1df77a(0x11a)]=Helper[_0x1df77a(0x124)](_0x1df77a(0x109)+_0xf8cd21);let _0x47a91a=_0x1df77a(0x107);const _0x22f40b=await a3_0x47594e[_0x1df77a(0xe5)](_0x47a91a);await Helper[_0x1df77a(0x102)](this[_0x1df77a(0x11a)],_0x22f40b),a3_0x567f6e[_0x1df77a(0x120)](_0x1df77a(0x115)+this[_0x1df77a(0x11a)]+_0x1df77a(0xfe)),console[_0x1df77a(0x106)]('Query\x20'+_0xf8cd21+_0x1df77a(0xfa)),await Helper[_0x1df77a(0x105)](0xbb8),process[_0x1df77a(0x103)]();}catch(_0x4f8b7d){throw _0x4f8b7d;}}async[a3_0x27958e(0x10d)](){const _0x72fedd=a3_0x27958e;try{const _0x1bcb9b=Helper[_0x72fedd(0xdc)]('accounts');let _0x56f587=_0x72fedd(0x123);if(_0x1bcb9b[_0x72fedd(0x10b)]>0x0)for(const _0x5eb642 of _0x1bcb9b){_0x56f587+=_0x1bcb9b[_0x72fedd(0xe8)](_0x5eb642)+0x1+'.\x20'+_0x5eb642+'\x0a';}else _0x56f587+='<empty>\x0a';_0x56f587+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x23aadb=await a3_0x47594e['text'](_0x56f587);if(_0x23aadb==0x1)await this[_0x72fedd(0xf5)]();else _0x23aadb==0x2?await this[_0x72fedd(0xd4)]():(console[_0x72fedd(0x106)](_0x72fedd(0xe1)),await this[_0x72fedd(0x10d)]());}catch(_0x287a44){throw _0x287a44;}}async[a3_0x27958e(0xec)](_0x3dff84,_0x1e5455){const _0x53258f=a3_0x27958e;try{this['proxy']=_0x1e5455;const _0x5bfa11={'connectionRetries':0x5};this[_0x53258f(0xf2)]&&(_0x5bfa11['agent']=new HttpsProxyAgent(this[_0x53258f(0xf2)])),this[_0x53258f(0xda)]=new StoreSession(_0x3dff84),this['client']=new TelegramClient(this['storeSession'],Config[_0x53258f(0x11d)],Config['TELEGRAM_APP_HASH'],_0x5bfa11),this[_0x53258f(0xda)][_0x53258f(0x10f)](),await this['client'][_0x53258f(0x119)]({'phoneNumber':async()=>await a3_0x47594e[_0x53258f(0xe5)](_0x53258f(0x108)),'password':async()=>await a3_0x47594e['text'](_0x53258f(0x112)),'phoneCode':async()=>await a3_0x47594e[_0x53258f(0xe5)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x4a5e63=>{const _0x1dc2cf=_0x53258f;console[_0x1dc2cf(0x106)](_0x4a5e63['message']);}});}catch(_0x456f57){throw _0x456f57;}}async[a3_0x27958e(0xd7)](){const _0xfdeb4c=a3_0x27958e;try{a3_0x567f6e[_0xfdeb4c(0x120)](_0xfdeb4c(0xe2)+this[_0xfdeb4c(0x10c)]+_0xfdeb4c(0xfb));while(this[_0xfdeb4c(0x10e)]==undefined){try{this[_0xfdeb4c(0x10e)]=await this[_0xfdeb4c(0xdf)][_0xfdeb4c(0xea)](this[_0xfdeb4c(0xe3)]);break;}catch(_0x439741){if(_0x439741 instanceof FloodWaitError){const _0x3a5b05=_0x439741[_0xfdeb4c(0x125)];a3_0x567f6e[_0xfdeb4c(0xdb)](this[_0xfdeb4c(0xdf)][_0xfdeb4c(0x10c)][_0xfdeb4c(0x116)]+_0xfdeb4c(0xfc)+_0x439741),a3_0x567f6e[_0xfdeb4c(0x120)](this[_0xfdeb4c(0xdf)][_0xfdeb4c(0x10c)][_0xfdeb4c(0x116)]+_0xfdeb4c(0x100)+_0x3a5b05+'s'),await Helper[_0xfdeb4c(0x105)]((_0x3a5b05+0x3)*0x3e8);}else throw _0x439741;}}}catch(_0x3bfccf){throw _0x3bfccf;}}async[a3_0x27958e(0xe6)](){const _0x327874=a3_0x27958e;await this['client'][_0x327874(0xe6)](),await this[_0x327874(0xdf)][_0x327874(0x121)](),this[_0x327874(0x10e)]=undefined,this[_0x327874(0x11a)]=undefined;}async[a3_0x27958e(0xd8)](){const _0x548a7e=a3_0x27958e;try{const _0x4557b5=await this['client']['invoke'](new Api[(_0x548a7e(0xed))][(_0x548a7e(0x104))]({'peer':this[_0x548a7e(0x10e)],'bot':this[_0x548a7e(0x10e)],'fromBotMenu':!![],'url':this['url'],'platform':_0x548a7e(0xf6)}));a3_0x567f6e[_0x548a7e(0x120)]('Session\x20'+this[_0x548a7e(0x10c)]+_0x548a7e(0xe9));const _0x210324=_0x4557b5['url'];return Helper['getTelegramQuery'](_0x210324,0x3);}catch(_0x228f79){throw _0x228f79;}}}