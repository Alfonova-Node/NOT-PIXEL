const a3_0x499877=a3_0xc30d;function a3_0xc30d(_0xdbcbb3,_0x98abe0){const _0x47d0ee=a3_0x47d0();return a3_0xc30d=function(_0xc30d12,_0x50fc8e){_0xc30d12=_0xc30d12-0x1d1;let _0x554bb4=_0x47d0ee[_0xc30d12];return _0x554bb4;},a3_0xc30d(_0xdbcbb3,_0x98abe0);}(function(_0xb23ce6,_0x1a1adf){const _0x11f509=a3_0xc30d,_0x35dfd5=_0xb23ce6();while(!![]){try{const _0x54f3d4=-parseInt(_0x11f509(0x1e8))/0x1+parseInt(_0x11f509(0x1f0))/0x2*(-parseInt(_0x11f509(0x1ed))/0x3)+parseInt(_0x11f509(0x1e4))/0x4+-parseInt(_0x11f509(0x1d4))/0x5*(parseInt(_0x11f509(0x20b))/0x6)+parseInt(_0x11f509(0x22c))/0x7*(parseInt(_0x11f509(0x1d9))/0x8)+-parseInt(_0x11f509(0x210))/0x9*(-parseInt(_0x11f509(0x1f2))/0xa)+-parseInt(_0x11f509(0x1f3))/0xb*(parseInt(_0x11f509(0x1f6))/0xc);if(_0x54f3d4===_0x1a1adf)break;else _0x35dfd5['push'](_0x35dfd5['shift']());}catch(_0x498f32){_0x35dfd5['push'](_0x35dfd5['shift']());}}}(a3_0x47d0,0xaa857));import a3_0x2bf584 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x2facf7 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x47d0(){const _0x3f1735=['Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','12lcwgqe','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','info','error','invoke','Query\x20','useSession','destroy','start','resolvePeer','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','createDir','saveQueryFile','warn','\x20-\x20Webview\x20Connected','messages','exit','getTelegramQuery','Session\x20','You\x20dont\x20have\x20any\x20Query\x20Account.','551796gTjhvi','sessions-','TELEGRAM_APP_HASH','query','getEntity','1853703ANKLiP','Enter\x20your\x20Telegram\x20Password?','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','filter','url','notpixel','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','\x20|\x20FloodWait\x20','proxy','queryCreation','resetAccounts','query-','accounts/','queryModificaiton','log','indexOf','accounts','client','Your\x20Account\x20List\x20:\x0a\x20\x0a','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','onBoarding','readQueryFile','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','disconnect','stringify','message','<empty>\x0a','storeSession','252oUEmrw','Old\x20Query\x20:\x20','Please\x20Enter\x20Telegram\x20Query\x20:\x20','save','Invalid\x20input,\x20Please\x20try\x20again','35ZtTzGT','length','getSession','delay','text','121840nmjnNY','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','RequestWebView','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','init','<empty>','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','accountName','serverAddress','agent','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','3827516gPwBBp','session','initWebView','accountType','447139fIgwIx','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','bot','seconds','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','375dqSLWC','https://image.notpx.app/','sessionCreation','758goyRSG','peer','50nZdKWh','7680893NCrJKI','TELEGRAM_APP_ID'];a3_0x47d0=function(){return _0x3f1735;};return a3_0x47d0();}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x499877(0x22b)];constructor(){const _0x109587=a3_0x499877;this[_0x109587(0x1e0)]=_0x109587(0x220),this['url']=_0x109587(0x1ee),this[_0x109587(0x1ea)]=_0x109587(0x215);}async[a3_0x499877(0x1dd)](){const _0x45c3d0=a3_0x499877;try{await this['onBoarding']();}catch(_0x2fb8e5){console[_0x45c3d0(0x21e)](_0x2fb8e5),a3_0x2facf7[_0x45c3d0(0x1f9)](''+JSON[_0x45c3d0(0x228)](_0x2fb8e5));throw _0x2fb8e5;}}async[a3_0x499877(0x224)](){const _0x1d028f=a3_0x499877;try{let _0x273206=_0x1d028f(0x216);const _0x4c04d5=Helper[_0x1d028f(0x1d6)](_0x1d028f(0x220));if(_0x4c04d5[_0x1d028f(0x1d5)]==0x0)_0x273206+=_0x1d028f(0x1de);else for(const _0xf30c42 of _0x4c04d5){_0x273206+='-\x20'+_0xf30c42+'\x0a';}_0x273206+=_0x1d028f(0x212),_0x273206+=_0x1d028f(0x1dc);const _0xeb1ddf=await a3_0x2bf584[_0x1d028f(0x1d8)](_0x273206);if(_0xeb1ddf==0x1)await this[_0x1d028f(0x1e7)]();else{if(_0xeb1ddf==0x2)Helper[_0x1d028f(0x21a)](),await Helper['delay'](0xbb8),await this[_0x1d028f(0x224)]();else{if(_0xeb1ddf==0x3)Helper[_0x1d028f(0x1d6)](this[_0x1d028f(0x1e0)])?.[_0x1d028f(0x1d5)]==0x0&&(console[_0x1d028f(0x1f8)](_0x1d028f(0x1df)),await this[_0x1d028f(0x224)]());else _0xeb1ddf==0x4?await this[_0x1d028f(0x21d)]():(console['error'](_0x1d028f(0x1d3)),await this[_0x1d028f(0x224)]());}}}catch(_0x39de72){throw _0x39de72;}}async[a3_0x499877(0x21d)](){const _0x37e7ae=a3_0x499877;try{const _0x44276b=Helper['getSession'](_0x37e7ae(0x220)),_0x541dfb=_0x44276b[_0x37e7ae(0x213)](_0x54abf7=>_0x54abf7['includes'](_0x37e7ae(0x20e)));let _0x5d7aa9=_0x37e7ae(0x201);for(const _0x4a6131 of _0x541dfb){_0x5d7aa9+=_0x44276b[_0x37e7ae(0x21f)](_0x4a6131)+0x1+'.\x20'+_0x4a6131+'\x0a';}_0x541dfb['length']==0x0?(console['log'](_0x37e7ae(0x20a)),await this[_0x37e7ae(0x224)]()):_0x5d7aa9+=_0x37e7ae(0x200);const _0x157da6=await a3_0x2bf584['text'](_0x5d7aa9);if(_0x541dfb[_0x157da6-0x1]!=undefined){const _0x6d90aa=_0x541dfb[_0x157da6-0x1];this['accountName']=_0x37e7ae(0x21c)+_0x6d90aa;const _0x2b756b=_0x37e7ae(0x22d)+Helper[_0x37e7ae(0x225)](this[_0x37e7ae(0x1e0)]+'/query.txt')+_0x37e7ae(0x1e9),_0x38c86b=await a3_0x2bf584['text'](_0x2b756b);await Helper['saveQueryFile'](this[_0x37e7ae(0x1e0)],_0x38c86b),await Helper[_0x37e7ae(0x1d7)](0xbb8),await this[_0x37e7ae(0x224)]();}else console[_0x37e7ae(0x1f9)](_0x37e7ae(0x1d3)),await this[_0x37e7ae(0x21d)]();}catch(_0xfd461c){throw _0xfd461c;}}async[a3_0x499877(0x1ef)](){const _0x199731=a3_0x499877;try{if(Config['TELEGRAM_APP_ID']==undefined||Config[_0x199731(0x20d)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x2662d4=Helper[_0x199731(0x1d6)](_0x199731(0x220));let _0x5e1612=_0x199731(0x222);for(const _0x15ab55 of _0x2662d4){_0x5e1612+=_0x2662d4['indexOf'](_0x15ab55)+0x1+'.\x20'+_0x15ab55+'\x0a';}_0x2662d4['length']==0x0?_0x5e1612+=_0x199731(0x1f7):_0x5e1612+=_0x199731(0x1e3);const _0x7154b9=await a3_0x2bf584['text'](_0x5e1612);this['accountName']=Helper[_0x199731(0x202)](_0x199731(0x20c)+_0x7154b9),await this[_0x199731(0x1fc)](this[_0x199731(0x1e0)]),await this[_0x199731(0x227)](),a3_0x2facf7[_0x199731(0x1f8)]('Session\x20'+this[_0x199731(0x1e0)]+'\x20-\x20Created'),console[_0x199731(0x21e)](_0x199731(0x209)+_0x7154b9+_0x199731(0x223)),this[_0x199731(0x22b)][_0x199731(0x1d2)](),await Helper[_0x199731(0x1d7)](0xbb8),process[_0x199731(0x207)]();}catch(_0x3d7cae){throw _0x3d7cae;}}async['queryCreation'](){const _0x2bb028=a3_0x499877;try{const _0x368938=Helper['getSession'](_0x2bb028(0x220));let _0x299928=_0x2bb028(0x222);for(const _0x1a2b42 of _0x368938){_0x299928+=_0x368938[_0x2bb028(0x21f)](_0x1a2b42)+0x1+'.\x20'+_0x1a2b42+'\x0a';}_0x368938[_0x2bb028(0x1d5)]==0x0?_0x299928+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:':_0x299928+=_0x2bb028(0x1ec);const _0x5dda57=await a3_0x2bf584[_0x2bb028(0x1d8)](_0x299928);this['accountName']=Helper['createDir'](_0x2bb028(0x21b)+_0x5dda57);let _0x1b9dc2=_0x2bb028(0x1d1);const _0x292766=await a3_0x2bf584[_0x2bb028(0x1d8)](_0x1b9dc2);await Helper[_0x2bb028(0x203)](this['accountName'],_0x292766),a3_0x2facf7[_0x2bb028(0x1f8)](_0x2bb028(0x1fb)+this[_0x2bb028(0x1e0)]+'\x20-\x20Created'),console[_0x2bb028(0x21e)]('Query\x20'+_0x5dda57+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper['delay'](0xbb8),process[_0x2bb028(0x207)]();}catch(_0x4eb504){throw _0x4eb504;}}async[a3_0x499877(0x1e7)](){const _0x1ef58b=a3_0x499877;try{const _0x597bed=Helper[_0x1ef58b(0x1d6)]('accounts');let _0x4d1039=_0x1ef58b(0x222);if(_0x597bed['length']>0x0)for(const _0x3f834b of _0x597bed){_0x4d1039+=_0x597bed[_0x1ef58b(0x21f)](_0x3f834b)+0x1+'.\x20'+_0x3f834b+'\x0a';}else _0x4d1039+=_0x1ef58b(0x22a);_0x4d1039+=_0x1ef58b(0x226);const _0x158af5=await a3_0x2bf584[_0x1ef58b(0x1d8)](_0x4d1039);if(_0x158af5==0x1)await this[_0x1ef58b(0x1ef)]();else _0x158af5==0x2?await this[_0x1ef58b(0x219)]():(console['log']('Invalid\x20Input'),await this[_0x1ef58b(0x1e7)]());}catch(_0x444a68){throw _0x444a68;}}async['useSession'](_0x2f6d7b,_0x37594a){const _0x3811bc=a3_0x499877;try{this[_0x3811bc(0x218)]=_0x37594a;const _0x10012c={'connectionRetries':0x5};this[_0x3811bc(0x218)]&&(_0x10012c[_0x3811bc(0x1e2)]=new HttpsProxyAgent(this[_0x3811bc(0x218)])),this[_0x3811bc(0x22b)]=new StoreSession(_0x2f6d7b),this[_0x3811bc(0x221)]=new TelegramClient(this['storeSession'],Config[_0x3811bc(0x1f4)],Config[_0x3811bc(0x20d)],_0x10012c),this[_0x3811bc(0x22b)][_0x3811bc(0x1d2)](),await this['client'][_0x3811bc(0x1fe)]({'phoneNumber':async()=>await a3_0x2bf584['text'](_0x3811bc(0x1f5)),'password':async()=>await a3_0x2bf584[_0x3811bc(0x1d8)](_0x3811bc(0x211)),'phoneCode':async()=>await a3_0x2bf584[_0x3811bc(0x1d8)](_0x3811bc(0x1da)),'onError':_0x14a42f=>{const _0x4b475d=_0x3811bc;console[_0x4b475d(0x21e)](_0x14a42f[_0x4b475d(0x229)]);}});}catch(_0x543ac1){throw _0x543ac1;}}async[a3_0x499877(0x1ff)](){const _0x42a696=a3_0x499877;try{a3_0x2facf7[_0x42a696(0x1f8)]('Session\x20'+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x42a696(0x1f1)]==undefined){try{this[_0x42a696(0x1f1)]=await this[_0x42a696(0x221)][_0x42a696(0x20f)](this[_0x42a696(0x1ea)]);break;}catch(_0x144f68){if(_0x144f68 instanceof FloodWaitError){const _0x42bfd3=_0x144f68[_0x42a696(0x1eb)];a3_0x2facf7[_0x42a696(0x204)](this[_0x42a696(0x221)][_0x42a696(0x1e5)][_0x42a696(0x1e1)]+_0x42a696(0x217)+_0x144f68),a3_0x2facf7['info'](this[_0x42a696(0x221)][_0x42a696(0x1e5)][_0x42a696(0x1e1)]+'\x20|\x20Sleep\x20'+_0x42bfd3+'s'),await Helper[_0x42a696(0x1d7)]((_0x42bfd3+0x3)*0x3e8);}else throw _0x144f68;}}}catch(_0x2451a7){throw _0x2451a7;}}async[a3_0x499877(0x227)](){const _0x599340=a3_0x499877;await this[_0x599340(0x221)]['disconnect'](),await this[_0x599340(0x221)][_0x599340(0x1fd)](),this['peer']=undefined,this['accountName']=undefined;}async[a3_0x499877(0x1e6)](){const _0x32119f=a3_0x499877;try{const _0x476d19=await this[_0x32119f(0x221)][_0x32119f(0x1fa)](new Api[(_0x32119f(0x206))][(_0x32119f(0x1db))]({'peer':this['peer'],'bot':this[_0x32119f(0x1f1)],'fromBotMenu':!![],'url':this[_0x32119f(0x214)],'platform':'android'}));a3_0x2facf7[_0x32119f(0x1f8)](_0x32119f(0x209)+this[_0x32119f(0x1e5)]+_0x32119f(0x205));const _0x4f828e=_0x476d19[_0x32119f(0x214)];return Helper[_0x32119f(0x208)](_0x4f828e,0x3);}catch(_0x50552){throw _0x50552;}}}