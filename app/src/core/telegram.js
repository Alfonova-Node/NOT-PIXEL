const a3_0x35c56d=a3_0x4fad;(function(_0x3f6d75,_0x887d84){const _0x53647c=a3_0x4fad,_0x469809=_0x3f6d75();while(!![]){try{const _0x543e7b=-parseInt(_0x53647c(0x10e))/0x1*(-parseInt(_0x53647c(0x10f))/0x2)+parseInt(_0x53647c(0x10d))/0x3+parseInt(_0x53647c(0x12b))/0x4*(-parseInt(_0x53647c(0x14a))/0x5)+parseInt(_0x53647c(0x13c))/0x6*(-parseInt(_0x53647c(0x127))/0x7)+-parseInt(_0x53647c(0xfe))/0x8+parseInt(_0x53647c(0x135))/0x9*(parseInt(_0x53647c(0x104))/0xa)+parseInt(_0x53647c(0x10c))/0xb*(-parseInt(_0x53647c(0x150))/0xc);if(_0x543e7b===_0x887d84)break;else _0x469809['push'](_0x469809['shift']());}catch(_0x4e30a5){_0x469809['push'](_0x469809['shift']());}}}(a3_0x1a7f,0x3d516));import a3_0x2c34bb from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x49362e from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x1a7f(){const _0x495f86=['error','36SoBcoy','\x20|\x20FloodWait\x20','accountType','getEntity','session','peer','getTelegramQuery','90570xLyfiW','onBoarding','accountName','Your\x20Account\x20List\x20:\x0a\x20\x0a','client','<empty>','info','Query\x20','proxy','queryCreation','log','warn','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','filter','1540GjPpYQ','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','save','start','notpixel','createDir','5316BOyKbY','delay','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','query-','storeSession','1063016kpSAxu','accounts/','bot','messages','/query.txt','initWebView','476230yWJYZD','getSession','query','\x20|\x20Sleep\x20','serverAddress','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','agent','3377YCiJEm','1082292CjeVWy','3JKetlj','310242iebxxy','exit','text','saveQueryFile','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','<empty>\x0a','queryModificaiton','sessionCreation','Please\x20Enter\x20Telegram\x20Query\x20:\x20','Session\x20','url','\x20-\x20Created','useSession','accounts','message','disconnect','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','android','init','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','resetAccounts','sessions-','You\x20dont\x20have\x20any\x20Query\x20Account.','203wNcqXr','invoke','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','764gHDJGA','Invalid\x20input,\x20Please\x20try\x20again','indexOf','Enter\x20your\x20Telegram\x20Password?','Invalid\x20Input','stringify','length','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','TELEGRAM_APP_ID'];a3_0x1a7f=function(){return _0x495f86;};return a3_0x1a7f();}function a3_0x4fad(_0x579f39,_0x1620ac){const _0x1a7fef=a3_0x1a7f();return a3_0x4fad=function(_0x4fade2,_0x3fbdfb){_0x4fade2=_0x4fade2-0xfe;let _0x1cd098=_0x1a7fef[_0x4fade2];return _0x1cd098;},a3_0x4fad(_0x579f39,_0x1620ac);}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x35c56d(0x154)];constructor(){const _0x2cc60c=a3_0x35c56d;this[_0x2cc60c(0x13e)]='accounts',this[_0x2cc60c(0x119)]='https://image.notpx.app/',this['bot']=_0x2cc60c(0x14e);}async[a3_0x35c56d(0x121)](){const _0x558578=a3_0x35c56d;try{await this[_0x558578(0x13d)]();}catch(_0x39fe8f){console[_0x558578(0x146)](_0x39fe8f),a3_0x49362e[_0x558578(0x134)](''+JSON[_0x558578(0x130)](_0x39fe8f));throw _0x39fe8f;}}async[a3_0x35c56d(0x13d)](){const _0x31d882=a3_0x35c56d;try{let _0x25e7be=_0x31d882(0x12a);const _0x63c712=Helper['getSession'](_0x31d882(0x11c));if(_0x63c712[_0x31d882(0x131)]==0x0)_0x25e7be+=_0x31d882(0x141);else for(const _0xbc552 of _0x63c712){_0x25e7be+='-\x20'+_0xbc552+'\x0a';}_0x25e7be+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x25e7be+=_0x31d882(0x148);const _0x588c7f=await a3_0x2c34bb[_0x31d882(0x111)](_0x25e7be);if(_0x588c7f==0x1)await this[_0x31d882(0x137)]();else{if(_0x588c7f==0x2)Helper[_0x31d882(0x124)](),await Helper[_0x31d882(0x151)](0xbb8),await this[_0x31d882(0x13d)]();else{if(_0x588c7f==0x3)Helper[_0x31d882(0x105)](this[_0x31d882(0x13e)])?.[_0x31d882(0x131)]==0x0&&(console[_0x31d882(0x142)]('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0x31d882(0x13d)]());else _0x588c7f==0x4?await this['queryModificaiton']():(console['error'](_0x31d882(0x12c)),await this['onBoarding']());}}}catch(_0x595abd){throw _0x595abd;}}async['queryModificaiton'](){const _0x5646ee=a3_0x35c56d;try{const _0x23cd60=Helper[_0x5646ee(0x105)]('accounts'),_0x12447c=_0x23cd60[_0x5646ee(0x149)](_0x16e390=>_0x16e390['includes'](_0x5646ee(0x106)));let _0x5b4607=_0x5646ee(0x113);for(const _0x5ac933 of _0x12447c){_0x5b4607+=_0x23cd60[_0x5646ee(0x12d)](_0x5ac933)+0x1+'.\x20'+_0x5ac933+'\x0a';}_0x12447c[_0x5646ee(0x131)]==0x0?(console['log'](_0x5646ee(0x126)),await this[_0x5646ee(0x13d)]()):_0x5b4607+=_0x5646ee(0x152);const _0x4f022b=await a3_0x2c34bb[_0x5646ee(0x111)](_0x5b4607);if(_0x12447c[_0x4f022b-0x1]!=undefined){const _0x49e362=_0x12447c[_0x4f022b-0x1];this[_0x5646ee(0x13e)]=_0x5646ee(0xff)+_0x49e362;const _0xf1a0f8='Old\x20Query\x20:\x20'+Helper['readQueryFile'](this['accountName']+_0x5646ee(0x102))+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0x1a38b1=await a3_0x2c34bb[_0x5646ee(0x111)](_0xf1a0f8);await Helper[_0x5646ee(0x112)](this[_0x5646ee(0x13e)],_0x1a38b1),await Helper[_0x5646ee(0x151)](0xbb8),await this[_0x5646ee(0x13d)]();}else console['error'](_0x5646ee(0x12c)),await this[_0x5646ee(0x115)]();}catch(_0x36920b){throw _0x36920b;}}async[a3_0x35c56d(0x116)](){const _0x134af4=a3_0x35c56d;try{if(Config[_0x134af4(0x133)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error(_0x134af4(0x132));const _0xf2405c=Helper[_0x134af4(0x105)](_0x134af4(0x11c));let _0x44c430=_0x134af4(0x13f);for(const _0x233b23 of _0xf2405c){_0x44c430+=_0xf2405c[_0x134af4(0x12d)](_0x233b23)+0x1+'.\x20'+_0x233b23+'\x0a';}_0xf2405c[_0x134af4(0x131)]==0x0?_0x44c430+=_0x134af4(0x11f):_0x44c430+=_0x134af4(0x10a);const _0x5472da=await a3_0x2c34bb[_0x134af4(0x111)](_0x44c430);this[_0x134af4(0x13e)]=Helper['createDir'](_0x134af4(0x125)+_0x5472da),await this['useSession'](this[_0x134af4(0x13e)]),await this['disconnect'](),a3_0x49362e[_0x134af4(0x142)](_0x134af4(0x118)+this['accountName']+'\x20-\x20Created'),console[_0x134af4(0x146)]('Session\x20'+_0x5472da+_0x134af4(0x129)),this[_0x134af4(0x154)][_0x134af4(0x14c)](),await Helper[_0x134af4(0x151)](0xbb8),process['exit']();}catch(_0x3e9371){throw _0x3e9371;}}async[a3_0x35c56d(0x145)](){const _0x29d103=a3_0x35c56d;try{const _0x22c0b7=Helper[_0x29d103(0x105)](_0x29d103(0x11c));let _0x278156='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x237b88 of _0x22c0b7){_0x278156+=_0x22c0b7[_0x29d103(0x12d)](_0x237b88)+0x1+'.\x20'+_0x237b88+'\x0a';}_0x22c0b7[_0x29d103(0x131)]==0x0?_0x278156+=_0x29d103(0x122):_0x278156+=_0x29d103(0x14b);const _0x33b7a2=await a3_0x2c34bb[_0x29d103(0x111)](_0x278156);this[_0x29d103(0x13e)]=Helper[_0x29d103(0x14f)](_0x29d103(0x153)+_0x33b7a2);let _0x4cdd23=_0x29d103(0x117);const _0x355945=await a3_0x2c34bb[_0x29d103(0x111)](_0x4cdd23);await Helper['saveQueryFile'](this[_0x29d103(0x13e)],_0x355945),a3_0x49362e[_0x29d103(0x142)](_0x29d103(0x143)+this[_0x29d103(0x13e)]+_0x29d103(0x11a)),console[_0x29d103(0x146)](_0x29d103(0x143)+_0x33b7a2+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper[_0x29d103(0x151)](0xbb8),process[_0x29d103(0x110)]();}catch(_0x26bb35){throw _0x26bb35;}}async[a3_0x35c56d(0x137)](){const _0x395c4a=a3_0x35c56d;try{const _0x5e27e8=Helper[_0x395c4a(0x105)]('accounts');let _0x443089=_0x395c4a(0x13f);if(_0x5e27e8[_0x395c4a(0x131)]>0x0)for(const _0x4437c6 of _0x5e27e8){_0x443089+=_0x5e27e8[_0x395c4a(0x12d)](_0x4437c6)+0x1+'.\x20'+_0x4437c6+'\x0a';}else _0x443089+=_0x395c4a(0x114);_0x443089+=_0x395c4a(0x109);const _0x267717=await a3_0x2c34bb[_0x395c4a(0x111)](_0x443089);if(_0x267717==0x1)await this['sessionCreation']();else _0x267717==0x2?await this[_0x395c4a(0x145)]():(console[_0x395c4a(0x146)](_0x395c4a(0x12f)),await this[_0x395c4a(0x137)]());}catch(_0x3cc65f){throw _0x3cc65f;}}async[a3_0x35c56d(0x11b)](_0x24a7d1,_0xc05d0f){const _0x28c77c=a3_0x35c56d;try{this[_0x28c77c(0x144)]=_0xc05d0f;const _0x208701={'connectionRetries':0x5};this['proxy']&&(_0x208701[_0x28c77c(0x10b)]=new HttpsProxyAgent(this[_0x28c77c(0x144)])),this['storeSession']=new StoreSession(_0x24a7d1),this[_0x28c77c(0x140)]=new TelegramClient(this['storeSession'],Config['TELEGRAM_APP_ID'],Config['TELEGRAM_APP_HASH'],_0x208701),this['storeSession']['save'](),await this[_0x28c77c(0x140)][_0x28c77c(0x14d)]({'phoneNumber':async()=>await a3_0x2c34bb[_0x28c77c(0x111)]('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a3_0x2c34bb[_0x28c77c(0x111)](_0x28c77c(0x12e)),'phoneCode':async()=>await a3_0x2c34bb[_0x28c77c(0x111)](_0x28c77c(0x123)),'onError':_0x1a5225=>{const _0x1d1e56=_0x28c77c;console[_0x1d1e56(0x146)](_0x1a5225[_0x1d1e56(0x11d)]);}}),console['log']();}catch(_0x6056a0){throw _0x6056a0;}}async['resolvePeer'](){const _0x418ad3=a3_0x35c56d;try{a3_0x49362e['info']('Session\x20'+this[_0x418ad3(0x139)]+'\x20-\x20Resolving\x20Peer');while(this['peer']==undefined){try{this[_0x418ad3(0x13a)]=await this[_0x418ad3(0x140)][_0x418ad3(0x138)](this[_0x418ad3(0x100)]);break;}catch(_0x162832){if(_0x162832 instanceof FloodWaitError){const _0x1e0265=_0x162832['seconds'];a3_0x49362e[_0x418ad3(0x147)](this[_0x418ad3(0x140)][_0x418ad3(0x139)][_0x418ad3(0x108)]+_0x418ad3(0x136)+_0x162832),a3_0x49362e[_0x418ad3(0x142)](this['client'][_0x418ad3(0x139)][_0x418ad3(0x108)]+_0x418ad3(0x107)+_0x1e0265+'s'),await Helper[_0x418ad3(0x151)]((_0x1e0265+0x3)*0x3e8);}else throw _0x162832;}}}catch(_0x26c780){throw _0x26c780;}}async[a3_0x35c56d(0x11e)](){const _0x4ec0fa=a3_0x35c56d;await this[_0x4ec0fa(0x140)][_0x4ec0fa(0x11e)](),await this[_0x4ec0fa(0x140)]['destroy'](),this[_0x4ec0fa(0x13a)]=undefined,this[_0x4ec0fa(0x13e)]=undefined;}async[a3_0x35c56d(0x103)](){const _0x2f9ae1=a3_0x35c56d;try{const _0x42e225=await this[_0x2f9ae1(0x140)][_0x2f9ae1(0x128)](new Api[(_0x2f9ae1(0x101))]['RequestWebView']({'peer':this[_0x2f9ae1(0x13a)],'bot':this[_0x2f9ae1(0x13a)],'fromBotMenu':!![],'url':this['url'],'platform':_0x2f9ae1(0x120)}));a3_0x49362e['info'](_0x2f9ae1(0x118)+this[_0x2f9ae1(0x139)]+'\x20-\x20Webview\x20Connected');const _0x545ade=_0x42e225['url'];return Helper[_0x2f9ae1(0x13b)](_0x545ade,0x3);}catch(_0x191075){throw _0x191075;}}}