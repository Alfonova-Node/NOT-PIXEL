const a3_0x1347d6=a3_0x1db1;function a3_0x37b2(){const _0xe16416=['createDir','length','192847ObWEqB','client','seconds','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','accounts','accountType','\x20|\x20FloodWait\x20','agent','TELEGRAM_APP_ID','includes','Invalid\x20Input','\x20-\x20Created','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','Session\x20','storeSession','sessionCreation','onBoarding','save','init','session','peer','<empty>','2PFXXbo','error','info','log','android','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','1602567SqkkcB','Old\x20Query\x20:\x20','warn','<empty>\x0a','getSession','queryModificaiton','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','TELEGRAM_APP_HASH','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','disconnect','query-','5XdBGKt','/query.txt','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','Invalid\x20input,\x20Please\x20try\x20again','indexOf','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','serverAddress','getEntity','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','resetAccounts','query','\x20|\x20Sleep\x20','1852116efKamw','RequestWebView','610020lYurmm','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','invoke','4643872uBbvJA','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','exit','accountName','Query\x20','Enter\x20your\x20Telegram\x20Password?','text','saveQueryFile','https://image.notpx.app/','bot','4866652ViNPsC','getTelegramQuery','url','Your\x20Account\x20List\x20:\x0a\x20\x0a','\x20-\x20Webview\x20Connected','3281913QOtssV','sessions-','proxy','delay','Please\x20Enter\x20Telegram\x20Query\x20:\x20','queryCreation','messages'];a3_0x37b2=function(){return _0xe16416;};return a3_0x37b2();}(function(_0x22b639,_0x4043ee){const _0xdc5038=a3_0x1db1,_0x22c11f=_0x22b639();while(!![]){try{const _0x23ebda=parseInt(_0xdc5038(0x1fb))/0x1*(-parseInt(_0xdc5038(0x211))/0x2)+parseInt(_0xdc5038(0x1c7))/0x3+parseInt(_0xdc5038(0x1e0))/0x4*(-parseInt(_0xdc5038(0x1d2))/0x5)+-parseInt(_0xdc5038(0x1de))/0x6+parseInt(_0xdc5038(0x1ed))/0x7+-parseInt(_0xdc5038(0x1e3))/0x8+parseInt(_0xdc5038(0x1f2))/0x9;if(_0x23ebda===_0x4043ee)break;else _0x22c11f['push'](_0x22c11f['shift']());}catch(_0x2d0138){_0x22c11f['push'](_0x22c11f['shift']());}}}(a3_0x37b2,0x57c88));import a3_0x91a95f from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x1db1(_0x53a442,_0xa964d2){const _0x37b2d6=a3_0x37b2();return a3_0x1db1=function(_0x1db17a,_0x4638ab){_0x1db17a=_0x1db17a-0x1c4;let _0x3b3483=_0x37b2d6[_0x1db17a];return _0x3b3483;},a3_0x1db1(_0x53a442,_0xa964d2);}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x6b518a from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x1347d6(0x209)];constructor(){const _0x4b39e9=a3_0x1347d6;this['accountName']=_0x4b39e9(0x1ff),this['url']=_0x4b39e9(0x1eb),this[_0x4b39e9(0x1ec)]='notpixel';}async[a3_0x1347d6(0x20d)](){const _0x5901d9=a3_0x1347d6;try{await this[_0x5901d9(0x20b)]();}catch(_0x306489){console['log'](_0x306489),a3_0x6b518a['error'](''+JSON['stringify'](_0x306489));throw _0x306489;}}async[a3_0x1347d6(0x20b)](){const _0x49bb76=a3_0x1347d6;try{let _0x120a50=_0x49bb76(0x1d7);const _0x58ec29=Helper[_0x49bb76(0x1cb)](_0x49bb76(0x1ff));if(_0x58ec29['length']==0x0)_0x120a50+=_0x49bb76(0x210);else for(const _0x5cb3f9 of _0x58ec29){_0x120a50+='-\x20'+_0x5cb3f9+'\x0a';}_0x120a50+=_0x49bb76(0x1cd),_0x120a50+=_0x49bb76(0x1c5);const _0x426b10=await a3_0x91a95f[_0x49bb76(0x1e9)](_0x120a50);if(_0x426b10==0x1)await this['accountType']();else{if(_0x426b10==0x2)Helper[_0x49bb76(0x1db)](),await Helper[_0x49bb76(0x1f5)](0xbb8),await this[_0x49bb76(0x20b)]();else{if(_0x426b10==0x3)Helper['getSession'](this[_0x49bb76(0x1e6)])?.[_0x49bb76(0x1fa)]==0x0&&(console[_0x49bb76(0x213)]('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this['onBoarding']());else _0x426b10==0x4?await this[_0x49bb76(0x1cc)]():(console[_0x49bb76(0x212)](_0x49bb76(0x1d5)),await this[_0x49bb76(0x20b)]());}}}catch(_0x3712ca){throw _0x3712ca;}}async['queryModificaiton'](){const _0x464435=a3_0x1347d6;try{const _0x4c48ae=Helper[_0x464435(0x1cb)](_0x464435(0x1ff)),_0x3a0676=_0x4c48ae['filter'](_0x248dfb=>_0x248dfb[_0x464435(0x204)](_0x464435(0x1dc)));let _0x5036ea=_0x464435(0x1cf);for(const _0x2c6b04 of _0x3a0676){_0x5036ea+=_0x4c48ae[_0x464435(0x1d6)](_0x2c6b04)+0x1+'.\x20'+_0x2c6b04+'\x0a';}_0x3a0676['length']==0x0?(console[_0x464435(0x214)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x464435(0x20b)]()):_0x5036ea+=_0x464435(0x1c6);const _0x3dd391=await a3_0x91a95f[_0x464435(0x1e9)](_0x5036ea);if(_0x3a0676[_0x3dd391-0x1]!=undefined){const _0x291ed4=_0x3a0676[_0x3dd391-0x1];this[_0x464435(0x1e6)]='accounts/'+_0x291ed4;const _0x489cdf=_0x464435(0x1c8)+Helper['readQueryFile'](this['accountName']+_0x464435(0x1d3))+_0x464435(0x1d4),_0x1484c2=await a3_0x91a95f[_0x464435(0x1e9)](_0x489cdf);await Helper[_0x464435(0x1ea)](this[_0x464435(0x1e6)],_0x1484c2),await Helper[_0x464435(0x1f5)](0xbb8),await this[_0x464435(0x20b)]();}else console['error'](_0x464435(0x1d5)),await this[_0x464435(0x1cc)]();}catch(_0xfd007d){throw _0xfd007d;}}async[a3_0x1347d6(0x20a)](){const _0x461c7c=a3_0x1347d6;try{if(Config[_0x461c7c(0x203)]==undefined||Config[_0x461c7c(0x1ce)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x44a963=Helper[_0x461c7c(0x1cb)](_0x461c7c(0x1ff));let _0x180f96=_0x461c7c(0x1f0);for(const _0xa216f8 of _0x44a963){_0x180f96+=_0x44a963['indexOf'](_0xa216f8)+0x1+'.\x20'+_0xa216f8+'\x0a';}_0x44a963[_0x461c7c(0x1fa)]==0x0?_0x180f96+=_0x461c7c(0x1e1):_0x180f96+='\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:';const _0x261953=await a3_0x91a95f[_0x461c7c(0x1e9)](_0x180f96);this[_0x461c7c(0x1e6)]=Helper[_0x461c7c(0x1f9)](_0x461c7c(0x1f3)+_0x261953),await this['useSession'](this['accountName']),await this['disconnect'](),a3_0x6b518a[_0x461c7c(0x213)]('Session\x20'+this[_0x461c7c(0x1e6)]+_0x461c7c(0x206)),console[_0x461c7c(0x214)]('Session\x20'+_0x261953+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),this[_0x461c7c(0x209)][_0x461c7c(0x20c)](),await Helper[_0x461c7c(0x1f5)](0xbb8),process[_0x461c7c(0x1e5)]();}catch(_0x445c39){throw _0x445c39;}}async[a3_0x1347d6(0x1f7)](){const _0x5b5fe7=a3_0x1347d6;try{const _0x157e2c=Helper[_0x5b5fe7(0x1cb)](_0x5b5fe7(0x1ff));let _0x2971c9=_0x5b5fe7(0x1f0);for(const _0x330d41 of _0x157e2c){_0x2971c9+=_0x157e2c[_0x5b5fe7(0x1d6)](_0x330d41)+0x1+'.\x20'+_0x330d41+'\x0a';}_0x157e2c['length']==0x0?_0x2971c9+=_0x5b5fe7(0x1fe):_0x2971c9+=_0x5b5fe7(0x207);const _0x472dc5=await a3_0x91a95f[_0x5b5fe7(0x1e9)](_0x2971c9);this[_0x5b5fe7(0x1e6)]=Helper[_0x5b5fe7(0x1f9)](_0x5b5fe7(0x1d1)+_0x472dc5);let _0x338fdb=_0x5b5fe7(0x1f6);const _0x3224ae=await a3_0x91a95f[_0x5b5fe7(0x1e9)](_0x338fdb);await Helper[_0x5b5fe7(0x1ea)](this[_0x5b5fe7(0x1e6)],_0x3224ae),a3_0x6b518a[_0x5b5fe7(0x213)]('Query\x20'+this[_0x5b5fe7(0x1e6)]+_0x5b5fe7(0x206)),console['log'](_0x5b5fe7(0x1e7)+_0x472dc5+_0x5b5fe7(0x1e4)),await Helper['delay'](0xbb8),process[_0x5b5fe7(0x1e5)]();}catch(_0x373014){throw _0x373014;}}async[a3_0x1347d6(0x200)](){const _0x5ca9a5=a3_0x1347d6;try{const _0x49bab7=Helper[_0x5ca9a5(0x1cb)](_0x5ca9a5(0x1ff));let _0x186f1b='Your\x20Account\x20List\x20:\x0a\x20\x0a';if(_0x49bab7[_0x5ca9a5(0x1fa)]>0x0)for(const _0x3ec426 of _0x49bab7){_0x186f1b+=_0x49bab7['indexOf'](_0x3ec426)+0x1+'.\x20'+_0x3ec426+'\x0a';}else _0x186f1b+=_0x5ca9a5(0x1ca);_0x186f1b+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x2d5878=await a3_0x91a95f[_0x5ca9a5(0x1e9)](_0x186f1b);if(_0x2d5878==0x1)await this['sessionCreation']();else _0x2d5878==0x2?await this[_0x5ca9a5(0x1f7)]():(console[_0x5ca9a5(0x214)](_0x5ca9a5(0x205)),await this['accountType']());}catch(_0x2db3c1){throw _0x2db3c1;}}async['useSession'](_0x532ffa,_0x2292a2){const _0x1a98b2=a3_0x1347d6;try{this[_0x1a98b2(0x1f4)]=_0x2292a2;const _0x4024c7={'connectionRetries':0x5};this[_0x1a98b2(0x1f4)]&&(_0x4024c7[_0x1a98b2(0x202)]=new HttpsProxyAgent(this['proxy'])),this['storeSession']=new StoreSession(_0x532ffa),this[_0x1a98b2(0x1fc)]=new TelegramClient(this['storeSession'],Config['TELEGRAM_APP_ID'],Config[_0x1a98b2(0x1ce)],_0x4024c7),this[_0x1a98b2(0x209)][_0x1a98b2(0x20c)](),await this['client']['start']({'phoneNumber':async()=>await a3_0x91a95f[_0x1a98b2(0x1e9)](_0x1a98b2(0x1da)),'password':async()=>await a3_0x91a95f[_0x1a98b2(0x1e9)](_0x1a98b2(0x1e8)),'phoneCode':async()=>await a3_0x91a95f[_0x1a98b2(0x1e9)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x34e47e=>{console['log'](_0x34e47e['message']);}}),console[_0x1a98b2(0x214)]();}catch(_0x462645){throw _0x462645;}}async['resolvePeer'](){const _0x2b2e41=a3_0x1347d6;try{a3_0x6b518a[_0x2b2e41(0x213)]('Session\x20'+this[_0x2b2e41(0x20e)]+'\x20-\x20Resolving\x20Peer');while(this[_0x2b2e41(0x20f)]==undefined){try{this[_0x2b2e41(0x20f)]=await this[_0x2b2e41(0x1fc)][_0x2b2e41(0x1d9)](this[_0x2b2e41(0x1ec)]);break;}catch(_0x32234b){if(_0x32234b instanceof FloodWaitError){const _0x2f57b2=_0x32234b[_0x2b2e41(0x1fd)];a3_0x6b518a[_0x2b2e41(0x1c9)](this[_0x2b2e41(0x1fc)][_0x2b2e41(0x20e)][_0x2b2e41(0x1d8)]+_0x2b2e41(0x201)+_0x32234b),a3_0x6b518a[_0x2b2e41(0x213)](this[_0x2b2e41(0x1fc)][_0x2b2e41(0x20e)]['serverAddress']+_0x2b2e41(0x1dd)+_0x2f57b2+'s'),await Helper['delay']((_0x2f57b2+0x3)*0x3e8);}else throw _0x32234b;}}}catch(_0x35f37b){throw _0x35f37b;}}async[a3_0x1347d6(0x1d0)](){const _0x2bfdaf=a3_0x1347d6;await this[_0x2bfdaf(0x1fc)]['disconnect'](),await this[_0x2bfdaf(0x1fc)]['destroy'](),this[_0x2bfdaf(0x20f)]=undefined,this[_0x2bfdaf(0x1e6)]=undefined;}async['initWebView'](){const _0x13ff33=a3_0x1347d6;try{const _0x1a9b7b=await this['client'][_0x13ff33(0x1e2)](new Api[(_0x13ff33(0x1f8))][(_0x13ff33(0x1df))]({'peer':this[_0x13ff33(0x20f)],'bot':this['peer'],'fromBotMenu':!![],'url':this[_0x13ff33(0x1ef)],'platform':_0x13ff33(0x1c4)}));a3_0x6b518a[_0x13ff33(0x213)](_0x13ff33(0x208)+this['session']+_0x13ff33(0x1f1));const _0x1237e9=_0x1a9b7b[_0x13ff33(0x1ef)];return Helper[_0x13ff33(0x1ee)](_0x1237e9,0x3);}catch(_0x527fc2){throw _0x527fc2;}}}