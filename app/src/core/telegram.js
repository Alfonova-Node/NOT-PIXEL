const a3_0x2b4a6c=a3_0x2547;(function(_0x5e4c9d,_0x3cede2){const _0x1c6849=a3_0x2547,_0x462fc4=_0x5e4c9d();while(!![]){try{const _0x11610b=parseInt(_0x1c6849(0x9f))/0x1+-parseInt(_0x1c6849(0xa4))/0x2+parseInt(_0x1c6849(0xa9))/0x3+-parseInt(_0x1c6849(0x92))/0x4+parseInt(_0x1c6849(0x97))/0x5+-parseInt(_0x1c6849(0x98))/0x6+parseInt(_0x1c6849(0x7b))/0x7*(parseInt(_0x1c6849(0xbd))/0x8);if(_0x11610b===_0x3cede2)break;else _0x462fc4['push'](_0x462fc4['shift']());}catch(_0x56bb41){_0x462fc4['push'](_0x462fc4['shift']());}}}(a3_0x5344,0x41d43));import a3_0x53e25b from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x2547(_0x49280b,_0x1cca39){const _0x5344f3=a3_0x5344();return a3_0x2547=function(_0x2547e3,_0x9143d2){_0x2547e3=_0x2547e3-0x7a;let _0x3f1393=_0x5344f3[_0x2547e3];return _0x3f1393;},a3_0x2547(_0x49280b,_0x1cca39);}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0xeeb0f8 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x2d6c18=a3_0x2547;this[_0x2d6c18(0xc1)]=_0x2d6c18(0xb1),this[_0x2d6c18(0xc2)]=_0x2d6c18(0xb3),this['bot']=_0x2d6c18(0x81);}async['init'](){const _0x8231e=a3_0x2547;try{await this[_0x8231e(0x8d)]();}catch(_0x1635d6){console['log'](_0x1635d6),a3_0xeeb0f8[_0x8231e(0x8b)](''+JSON[_0x8231e(0xb0)](_0x1635d6));throw _0x1635d6;}}async[a3_0x2b4a6c(0x8d)](){const _0xb74bc6=a3_0x2b4a6c;try{let _0x5505c1='Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a';const _0x2fe835=Helper['getSession'](_0xb74bc6(0xb1));if(_0x2fe835['length']==0x0)_0x5505c1+=_0xb74bc6(0x8f);else for(const _0x201782 of _0x2fe835){_0x5505c1+='-\x20'+_0x201782+'\x0a';}_0x5505c1+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x5505c1+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0x39f55d=await a3_0x53e25b[_0xb74bc6(0x83)](_0x5505c1);if(_0x39f55d==0x1)await this[_0xb74bc6(0xc6)]();else{if(_0x39f55d==0x2)Helper[_0xb74bc6(0x7d)](),await Helper[_0xb74bc6(0x9b)](0xbb8),await this[_0xb74bc6(0x8d)]();else{if(_0x39f55d==0x3)Helper[_0xb74bc6(0xb8)](this['accountName'])?.['length']==0x0&&(console[_0xb74bc6(0x7a)]('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0xb74bc6(0x8d)]());else _0x39f55d==0x4?await this[_0xb74bc6(0xc9)]():(console[_0xb74bc6(0x8b)](_0xb74bc6(0xae)),await this[_0xb74bc6(0x8d)]());}}}catch(_0x4ba88b){throw _0x4ba88b;}}async[a3_0x2b4a6c(0xc9)](){const _0x3f6fa9=a3_0x2b4a6c;try{const _0x3ab452=Helper['getSession'](_0x3f6fa9(0xb1)),_0x2cc0dc=_0x3ab452['filter'](_0x44d337=>_0x44d337[_0x3f6fa9(0xc7)](_0x3f6fa9(0x91)));let _0x2eacf9=_0x3f6fa9(0x99);for(const _0xcbfdac of _0x2cc0dc){_0x2eacf9+=_0x3ab452[_0x3f6fa9(0xb5)](_0xcbfdac)+0x1+'.\x20'+_0xcbfdac+'\x0a';}_0x2cc0dc[_0x3f6fa9(0xad)]==0x0?(console['log']('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x3f6fa9(0x8d)]()):_0x2eacf9+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x1ac8ef=await a3_0x53e25b['text'](_0x2eacf9);if(_0x2cc0dc[_0x1ac8ef-0x1]!=undefined){const _0x230e4a=_0x2cc0dc[_0x1ac8ef-0x1];this[_0x3f6fa9(0xc1)]=_0x3f6fa9(0xbc)+_0x230e4a;const _0x53d0df=_0x3f6fa9(0xb9)+Helper[_0x3f6fa9(0xc0)](this['accountName']+'/query.txt')+_0x3f6fa9(0xca),_0x466bdd=await a3_0x53e25b[_0x3f6fa9(0x83)](_0x53d0df);await Helper[_0x3f6fa9(0xb6)](this[_0x3f6fa9(0xc1)],_0x466bdd),await Helper[_0x3f6fa9(0x9b)](0xbb8),await this[_0x3f6fa9(0x8d)]();}else console[_0x3f6fa9(0x8b)]('Invalid\x20input,\x20Please\x20try\x20again'),await this['queryModificaiton']();}catch(_0x369a2b){throw _0x369a2b;}}async[a3_0x2b4a6c(0x7c)](){const _0x27bc05=a3_0x2b4a6c;try{if(Config[_0x27bc05(0xcb)]==undefined||Config[_0x27bc05(0xb7)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x1fac05=Helper[_0x27bc05(0xb8)](_0x27bc05(0xb1));let _0x49e7c1=_0x27bc05(0x8e);for(const _0x5c59aa of _0x1fac05){_0x49e7c1+=_0x1fac05[_0x27bc05(0xb5)](_0x5c59aa)+0x1+'.\x20'+_0x5c59aa+'\x0a';}_0x1fac05['length']==0x0?_0x49e7c1+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x49e7c1+=_0x27bc05(0xbf);const _0x5c993b=await a3_0x53e25b[_0x27bc05(0x83)](_0x49e7c1);this[_0x27bc05(0xc1)]=Helper[_0x27bc05(0x7e)](_0x27bc05(0xa7)+_0x5c993b),await this['useSession'](this[_0x27bc05(0xc1)]),await this[_0x27bc05(0xb4)](),a3_0xeeb0f8['info']('Session\x20'+this[_0x27bc05(0xc1)]+_0x27bc05(0x9e)),console['log'](_0x27bc05(0xa5)+_0x5c993b+_0x27bc05(0x8c)),this[_0x27bc05(0x93)][_0x27bc05(0xc5)](),await Helper[_0x27bc05(0x9b)](0xbb8),process['exit']();}catch(_0x305f2a){throw _0x305f2a;}}async[a3_0x2b4a6c(0xb2)](){const _0x2b1c92=a3_0x2b4a6c;try{const _0x1678d1=Helper[_0x2b1c92(0xb8)]('accounts');let _0x2f7cb9=_0x2b1c92(0x8e);for(const _0x21ddbe of _0x1678d1){_0x2f7cb9+=_0x1678d1['indexOf'](_0x21ddbe)+0x1+'.\x20'+_0x21ddbe+'\x0a';}_0x1678d1[_0x2b1c92(0xad)]==0x0?_0x2f7cb9+=_0x2b1c92(0xa2):_0x2f7cb9+=_0x2b1c92(0xbb);const _0x34b56b=await a3_0x53e25b[_0x2b1c92(0x83)](_0x2f7cb9);this['accountName']=Helper[_0x2b1c92(0x7e)](_0x2b1c92(0xa0)+_0x34b56b);let _0x5a8851=_0x2b1c92(0xba);const _0x4f27d8=await a3_0x53e25b[_0x2b1c92(0x83)](_0x5a8851);await Helper['saveQueryFile'](this[_0x2b1c92(0xc1)],_0x4f27d8),a3_0xeeb0f8['info'](_0x2b1c92(0xa1)+this[_0x2b1c92(0xc1)]+_0x2b1c92(0x9e)),console[_0x2b1c92(0xc4)](_0x2b1c92(0xa1)+_0x34b56b+_0x2b1c92(0x8c)),await Helper[_0x2b1c92(0x9b)](0xbb8),process[_0x2b1c92(0x89)]();}catch(_0x1c6a67){throw _0x1c6a67;}}async['accountType'](){const _0x296250=a3_0x2b4a6c;try{const _0x12372b=Helper[_0x296250(0xb8)](_0x296250(0xb1));let _0x1736e5=_0x296250(0x8e);if(_0x12372b[_0x296250(0xad)]>0x0)for(const _0x1933f of _0x12372b){_0x1736e5+=_0x12372b[_0x296250(0xb5)](_0x1933f)+0x1+'.\x20'+_0x1933f+'\x0a';}else _0x1736e5+=_0x296250(0x7f);_0x1736e5+=_0x296250(0x95);const _0x5f4dc6=await a3_0x53e25b[_0x296250(0x83)](_0x1736e5);if(_0x5f4dc6==0x1)await this[_0x296250(0x7c)]();else _0x5f4dc6==0x2?await this[_0x296250(0xb2)]():(console['log'](_0x296250(0x9c)),await this['accountType']());}catch(_0x9b619c){throw _0x9b619c;}}async[a3_0x2b4a6c(0xcc)](_0x6e5e3e,_0xb4dee0){const _0x163304=a3_0x2b4a6c;try{this[_0x163304(0x86)]=_0xb4dee0;const _0x321dff={'connectionRetries':0x5};this[_0x163304(0x86)]&&(_0x321dff[_0x163304(0xbe)]=new HttpsProxyAgent(this['proxy'])),this[_0x163304(0x93)]=new StoreSession(_0x6e5e3e),this[_0x163304(0xa3)]=new TelegramClient(this['storeSession'],Config[_0x163304(0xcb)],Config[_0x163304(0xb7)],_0x321dff),this[_0x163304(0x93)]['save'](),await this['client'][_0x163304(0x9a)]({'phoneNumber':async()=>await a3_0x53e25b[_0x163304(0x83)](_0x163304(0xaf)),'password':async()=>await a3_0x53e25b[_0x163304(0x83)](_0x163304(0xac)),'phoneCode':async()=>await a3_0x53e25b[_0x163304(0x83)](_0x163304(0xa6)),'onError':_0x21b50a=>{const _0x414c7f=_0x163304;console[_0x414c7f(0xc4)](_0x21b50a[_0x414c7f(0x90)]);}});}catch(_0x846fa9){throw _0x846fa9;}}async[a3_0x2b4a6c(0x80)](){const _0x1032bb=a3_0x2b4a6c;try{a3_0xeeb0f8[_0x1032bb(0x7a)]('Session\x20'+this['session']+_0x1032bb(0x87));while(this[_0x1032bb(0x96)]==undefined){try{this[_0x1032bb(0x96)]=await this[_0x1032bb(0xa3)][_0x1032bb(0x82)](this[_0x1032bb(0xaa)]);break;}catch(_0x3e730f){if(_0x3e730f instanceof FloodWaitError){const _0x5e7027=_0x3e730f['seconds'];a3_0xeeb0f8['warn'](this[_0x1032bb(0xa3)][_0x1032bb(0x85)][_0x1032bb(0x8a)]+_0x1032bb(0x94)+_0x3e730f),a3_0xeeb0f8[_0x1032bb(0x7a)](this[_0x1032bb(0xa3)]['session']['serverAddress']+_0x1032bb(0x9d)+_0x5e7027+'s'),await Helper[_0x1032bb(0x9b)]((_0x5e7027+0x3)*0x3e8);}else throw _0x3e730f;}}}catch(_0x4cd2ac){throw _0x4cd2ac;}}async['disconnect'](){const _0x558b04=a3_0x2b4a6c;await this[_0x558b04(0xa3)][_0x558b04(0xb4)](),await this[_0x558b04(0xa3)][_0x558b04(0x84)](),this[_0x558b04(0x96)]=undefined,this['accountName']=undefined;}async['initWebView'](){const _0x395a92=a3_0x2b4a6c;try{const _0x2b7890=await this['client'][_0x395a92(0xa8)](new Api['messages'][(_0x395a92(0x88))]({'peer':this[_0x395a92(0x96)],'bot':this[_0x395a92(0x96)],'fromBotMenu':!![],'url':this[_0x395a92(0xc2)],'platform':_0x395a92(0xc8)}));a3_0xeeb0f8['info'](_0x395a92(0xa5)+this['session']+_0x395a92(0xc3));const _0x81ff65=_0x2b7890[_0x395a92(0xc2)];return Helper[_0x395a92(0xab)](_0x81ff65,0x3);}catch(_0x2bab8c){throw _0x2bab8c;}}}function a3_0x5344(){const _0x32dfd4=['useSession','info','42ZEXDYb','sessionCreation','resetAccounts','createDir','<empty>\x0a','resolvePeer','notpixel','getEntity','text','destroy','session','proxy','\x20-\x20Resolving\x20Peer','RequestWebView','exit','serverAddress','error','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','onBoarding','Your\x20Account\x20List\x20:\x0a\x20\x0a','<empty>','message','query','2123432nezPXl','storeSession','\x20|\x20FloodWait\x20','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','peer','2199230SbkJYr','958554LiksqE','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','start','delay','Invalid\x20Input','\x20|\x20Sleep\x20','\x20-\x20Created','425921qmOkBB','query-','Query\x20','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','client','413960WmOunr','Session\x20','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','sessions-','invoke','283701LhjfxT','bot','getTelegramQuery','Enter\x20your\x20Telegram\x20Password?','length','Invalid\x20input,\x20Please\x20try\x20again','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','stringify','accounts','queryCreation','https://image.notpx.app/','disconnect','indexOf','saveQueryFile','TELEGRAM_APP_HASH','getSession','Old\x20Query\x20:\x20','Please\x20Enter\x20Telegram\x20Query\x20:\x20','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','accounts/','275864axoOdo','agent','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','readQueryFile','accountName','url','\x20-\x20Webview\x20Connected','log','save','accountType','includes','android','queryModificaiton','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','TELEGRAM_APP_ID'];a3_0x5344=function(){return _0x32dfd4;};return a3_0x5344();}