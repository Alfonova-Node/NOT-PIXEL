const a3_0x32fc8e=a3_0x3411;function a3_0x1722(){const _0x3db60d=['getTelegramQuery','log','delay','queryModificaiton','url','3183768cuFjET','peer','Invalid\x20input,\x20Please\x20try\x20again','10liedat','info','https://image.notpx.app/','28WedxUO','length','start','\x20-\x20Created','message','Please\x20Enter\x20Telegram\x20Query\x20:\x20','\x20|\x20Sleep\x20','accountType','bot','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','serverAddress','RequestWebView','session','storeSession','text','Your\x20Account\x20List\x20:\x0a\x20\x0a','exit','accounts','client','5RNhjRj','error','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','accountName','query','Query\x20','getEntity','1034561hHQcTd','Session\x20','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','TELEGRAM_APP_HASH','useSession','resolvePeer','resetAccounts','readQueryFile','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','proxy','50970MjSyYw','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','1127cmZgHw','576330djpAJo','includes','160533AsVPMD','query-','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','notpixel','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','getSession','\x20-\x20Resolving\x20Peer','Invalid\x20Input','<empty>\x0a','queryCreation','createDir','Enter\x20your\x20Telegram\x20Password?','save','init','stringify','onBoarding','TELEGRAM_APP_ID','sessions-','android','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','indexOf','sessionCreation','506384ahNrbu','saveQueryFile','filter','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','506FsBTMj','Old\x20Query\x20:\x20','disconnect','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','invoke','14tukalL'];a3_0x1722=function(){return _0x3db60d;};return a3_0x1722();}(function(_0x44d1c1,_0x3d6cc3){const _0x4d30a2=a3_0x3411,_0x4b4963=_0x44d1c1();while(!![]){try{const _0x4c15d1=parseInt(_0x4d30a2(0x127))/0x1*(-parseInt(_0x4d30a2(0xef))/0x2)+-parseInt(_0x4d30a2(0x125))/0x3*(-parseInt(_0x4d30a2(0x100))/0x4)+-parseInt(_0x4d30a2(0x114))/0x5*(-parseInt(_0x4d30a2(0x128))/0x6)+-parseInt(_0x4d30a2(0xf4))/0x7*(parseInt(_0x4d30a2(0xeb))/0x8)+parseInt(_0x4d30a2(0xd5))/0x9*(parseInt(_0x4d30a2(0xfd))/0xa)+parseInt(_0x4d30a2(0x11b))/0xb+parseInt(_0x4d30a2(0xfa))/0xc;if(_0x4c15d1===_0x3d6cc3)break;else _0x4b4963['push'](_0x4b4963['shift']());}catch(_0x1b7354){_0x4b4963['push'](_0x4b4963['shift']());}}}(a3_0x1722,0x2c0ec));import a3_0x45fb38 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x299cce from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x3411(_0x53a74e,_0x40c27b){const _0x172274=a3_0x1722();return a3_0x3411=function(_0x341104,_0xd99bd9){_0x341104=_0x341104-0xd4;let _0x32d556=_0x172274[_0x341104];return _0x32d556;},a3_0x3411(_0x53a74e,_0x40c27b);}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x32fc8e(0x10e)];constructor(){const _0x29f43e=a3_0x32fc8e;this[_0x29f43e(0x117)]=_0x29f43e(0x112),this[_0x29f43e(0xf9)]=_0x29f43e(0xff),this[_0x29f43e(0x108)]=_0x29f43e(0xd8);}async[a3_0x32fc8e(0xe2)](){const _0x13991d=a3_0x32fc8e;try{await this[_0x13991d(0xe4)]();}catch(_0x210c66){console[_0x13991d(0xf6)](_0x210c66),a3_0x299cce[_0x13991d(0x115)](''+JSON[_0x13991d(0xe3)](_0x210c66));throw _0x210c66;}}async[a3_0x32fc8e(0xe4)](){const _0x5068bd=a3_0x32fc8e;try{let _0x8dc702='Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a';const _0xb12b50=Helper[_0x5068bd(0xda)](_0x5068bd(0x112));if(_0xb12b50[_0x5068bd(0x101)]==0x0)_0x8dc702+='<empty>';else for(const _0xc4d61 of _0xb12b50){_0x8dc702+='-\x20'+_0xc4d61+'\x0a';}_0x8dc702+=_0x5068bd(0x11d),_0x8dc702+=_0x5068bd(0x109);const _0x4b60ed=await a3_0x45fb38[_0x5068bd(0x10f)](_0x8dc702);if(_0x4b60ed==0x1)await this[_0x5068bd(0x107)]();else{if(_0x4b60ed==0x2)Helper[_0x5068bd(0x121)](),await Helper['delay'](0xbb8),await this[_0x5068bd(0xe4)]();else{if(_0x4b60ed==0x3)Helper[_0x5068bd(0xda)](this['accountName'])?.[_0x5068bd(0x101)]==0x0&&(console[_0x5068bd(0xfe)](_0x5068bd(0xee)),await this[_0x5068bd(0xe4)]());else _0x4b60ed==0x4?await this[_0x5068bd(0xf8)]():(console['error'](_0x5068bd(0xfc)),await this[_0x5068bd(0xe4)]());}}}catch(_0x2af593){throw _0x2af593;}}async[a3_0x32fc8e(0xf8)](){const _0x5d1900=a3_0x32fc8e;try{const _0x36294d=Helper['getSession'](_0x5d1900(0x112)),_0x937358=_0x36294d[_0x5d1900(0xed)](_0x3b2b88=>_0x3b2b88[_0x5d1900(0xd4)](_0x5d1900(0x118)));let _0x18636f=_0x5d1900(0xe8);for(const _0x1f80e8 of _0x937358){_0x18636f+=_0x36294d[_0x5d1900(0xe9)](_0x1f80e8)+0x1+'.\x20'+_0x1f80e8+'\x0a';}_0x937358[_0x5d1900(0x101)]==0x0?(console[_0x5d1900(0xf6)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x5d1900(0xe4)]()):_0x18636f+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x3ef6e7=await a3_0x45fb38[_0x5d1900(0x10f)](_0x18636f);if(_0x937358[_0x3ef6e7-0x1]!=undefined){const _0x1ca1ea=_0x937358[_0x3ef6e7-0x1];this['accountName']='accounts/'+_0x1ca1ea;const _0x4f9148=_0x5d1900(0xf0)+Helper[_0x5d1900(0x122)](this[_0x5d1900(0x117)]+'/query.txt')+_0x5d1900(0x10a),_0x43edae=await a3_0x45fb38['text'](_0x4f9148);await Helper[_0x5d1900(0xec)](this[_0x5d1900(0x117)],_0x43edae),await Helper[_0x5d1900(0xf7)](0xbb8),await this[_0x5d1900(0xe4)]();}else console[_0x5d1900(0x115)](_0x5d1900(0xfc)),await this['queryModificaiton']();}catch(_0xb144d3){throw _0xb144d3;}}async[a3_0x32fc8e(0xea)](){const _0x5306ea=a3_0x32fc8e;try{if(Config[_0x5306ea(0xe5)]==undefined||Config[_0x5306ea(0x11e)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0xd0b26e=Helper[_0x5306ea(0xda)](_0x5306ea(0x112));let _0x33537c=_0x5306ea(0x110);for(const _0xa28e6b of _0xd0b26e){_0x33537c+=_0xd0b26e[_0x5306ea(0xe9)](_0xa28e6b)+0x1+'.\x20'+_0xa28e6b+'\x0a';}_0xd0b26e[_0x5306ea(0x101)]==0x0?_0x33537c+=_0x5306ea(0x116):_0x33537c+='\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:';const _0x3a77f6=await a3_0x45fb38['text'](_0x33537c);this['accountName']=Helper[_0x5306ea(0xdf)](_0x5306ea(0xe6)+_0x3a77f6),await this['useSession'](this[_0x5306ea(0x117)]),await this[_0x5306ea(0xf1)](),a3_0x299cce[_0x5306ea(0xfe)]('Session\x20'+this[_0x5306ea(0x117)]+_0x5306ea(0x103)),console[_0x5306ea(0xf6)]('Session\x20'+_0x3a77f6+_0x5306ea(0xf2)),this['storeSession']['save'](),await Helper[_0x5306ea(0xf7)](0xbb8),process[_0x5306ea(0x111)]();}catch(_0x46398b){throw _0x46398b;}}async['queryCreation'](){const _0x2d4a15=a3_0x32fc8e;try{const _0x510faa=Helper[_0x2d4a15(0xda)]('accounts');let _0x2d34cd=_0x2d4a15(0x110);for(const _0x528ead of _0x510faa){_0x2d34cd+=_0x510faa[_0x2d4a15(0xe9)](_0x528ead)+0x1+'.\x20'+_0x528ead+'\x0a';}_0x510faa[_0x2d4a15(0x101)]==0x0?_0x2d34cd+=_0x2d4a15(0xd7):_0x2d34cd+='\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:';const _0x1c8eef=await a3_0x45fb38[_0x2d4a15(0x10f)](_0x2d34cd);this[_0x2d4a15(0x117)]=Helper['createDir'](_0x2d4a15(0xd6)+_0x1c8eef);let _0x1d19ad=_0x2d4a15(0x105);const _0x401613=await a3_0x45fb38[_0x2d4a15(0x10f)](_0x1d19ad);await Helper[_0x2d4a15(0xec)](this[_0x2d4a15(0x117)],_0x401613),a3_0x299cce[_0x2d4a15(0xfe)](_0x2d4a15(0x119)+this[_0x2d4a15(0x117)]+_0x2d4a15(0x103)),console[_0x2d4a15(0xf6)]('Query\x20'+_0x1c8eef+_0x2d4a15(0xf2)),await Helper[_0x2d4a15(0xf7)](0xbb8),process[_0x2d4a15(0x111)]();}catch(_0x46c735){throw _0x46c735;}}async['accountType'](){const _0x2a5449=a3_0x32fc8e;try{const _0x37f8a4=Helper[_0x2a5449(0xda)](_0x2a5449(0x112));let _0x2c5195=_0x2a5449(0x110);if(_0x37f8a4[_0x2a5449(0x101)]>0x0)for(const _0xe87775 of _0x37f8a4){_0x2c5195+=_0x37f8a4[_0x2a5449(0xe9)](_0xe87775)+0x1+'.\x20'+_0xe87775+'\x0a';}else _0x2c5195+=_0x2a5449(0xdd);_0x2c5195+=_0x2a5449(0x123);const _0x46b10a=await a3_0x45fb38['text'](_0x2c5195);if(_0x46b10a==0x1)await this[_0x2a5449(0xea)]();else _0x46b10a==0x2?await this[_0x2a5449(0xde)]():(console[_0x2a5449(0xf6)](_0x2a5449(0xdc)),await this[_0x2a5449(0x107)]());}catch(_0x5de64){throw _0x5de64;}}async[a3_0x32fc8e(0x11f)](_0x353463,_0x919389){const _0x3aff3c=a3_0x32fc8e;try{this['proxy']=_0x919389;const _0xb647fa={'connectionRetries':0x5};this[_0x3aff3c(0x124)]&&(_0xb647fa['agent']=new HttpsProxyAgent(this[_0x3aff3c(0x124)])),this['storeSession']=new StoreSession(_0x353463),this[_0x3aff3c(0x113)]=new TelegramClient(this['storeSession'],Config[_0x3aff3c(0xe5)],Config['TELEGRAM_APP_HASH'],_0xb647fa),this[_0x3aff3c(0x10e)][_0x3aff3c(0xe1)](),await this['client'][_0x3aff3c(0x102)]({'phoneNumber':async()=>await a3_0x45fb38[_0x3aff3c(0x10f)](_0x3aff3c(0xd9)),'password':async()=>await a3_0x45fb38[_0x3aff3c(0x10f)](_0x3aff3c(0xe0)),'phoneCode':async()=>await a3_0x45fb38[_0x3aff3c(0x10f)](_0x3aff3c(0x126)),'onError':_0x4b46a0=>{const _0x15f0cc=_0x3aff3c;console[_0x15f0cc(0xf6)](_0x4b46a0[_0x15f0cc(0x104)]);}});}catch(_0x2b5c0e){throw _0x2b5c0e;}}async[a3_0x32fc8e(0x120)](){const _0x4c78c4=a3_0x32fc8e;try{a3_0x299cce[_0x4c78c4(0xfe)](_0x4c78c4(0x11c)+this[_0x4c78c4(0x10d)]+_0x4c78c4(0xdb));while(this['peer']==undefined){try{this[_0x4c78c4(0xfb)]=await this[_0x4c78c4(0x113)][_0x4c78c4(0x11a)](this[_0x4c78c4(0x108)]);break;}catch(_0x135e90){if(_0x135e90 instanceof FloodWaitError){const _0x5e133e=_0x135e90['seconds'];a3_0x299cce['warn'](this[_0x4c78c4(0x113)]['session'][_0x4c78c4(0x10b)]+'\x20|\x20FloodWait\x20'+_0x135e90),a3_0x299cce['info'](this[_0x4c78c4(0x113)][_0x4c78c4(0x10d)][_0x4c78c4(0x10b)]+_0x4c78c4(0x106)+_0x5e133e+'s'),await Helper[_0x4c78c4(0xf7)]((_0x5e133e+0x3)*0x3e8);}else throw _0x135e90;}}}catch(_0x3c2f18){throw _0x3c2f18;}}async[a3_0x32fc8e(0xf1)](){const _0x227b0a=a3_0x32fc8e;await this[_0x227b0a(0x113)][_0x227b0a(0xf1)](),await this[_0x227b0a(0x113)]['destroy'](),this[_0x227b0a(0xfb)]=undefined,this[_0x227b0a(0x117)]=undefined;}async['initWebView'](){const _0x57623a=a3_0x32fc8e;try{const _0x2d5ae5=await this['client'][_0x57623a(0xf3)](new Api['messages'][(_0x57623a(0x10c))]({'peer':this['peer'],'bot':this[_0x57623a(0xfb)],'fromBotMenu':!![],'url':this[_0x57623a(0xf9)],'platform':_0x57623a(0xe7)}));a3_0x299cce[_0x57623a(0xfe)]('Session\x20'+this[_0x57623a(0x10d)]+'\x20-\x20Webview\x20Connected');const _0xbf444f=_0x2d5ae5[_0x57623a(0xf9)];return Helper[_0x57623a(0xf5)](_0xbf444f,0x3);}catch(_0x8487fa){throw _0x8487fa;}}}