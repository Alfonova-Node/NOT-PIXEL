const a3_0x303a5f=a3_0x4400;(function(_0x24c77f,_0x821486){const _0x4f88ae=a3_0x4400,_0x45ad48=_0x24c77f();while(!![]){try{const _0x20920a=parseInt(_0x4f88ae(0x199))/0x1*(-parseInt(_0x4f88ae(0x18a))/0x2)+-parseInt(_0x4f88ae(0x1ba))/0x3*(parseInt(_0x4f88ae(0x1c9))/0x4)+parseInt(_0x4f88ae(0x194))/0x5*(-parseInt(_0x4f88ae(0x1b6))/0x6)+parseInt(_0x4f88ae(0x1cd))/0x7+-parseInt(_0x4f88ae(0x1c2))/0x8*(parseInt(_0x4f88ae(0x1b8))/0x9)+-parseInt(_0x4f88ae(0x18d))/0xa*(-parseInt(_0x4f88ae(0x1ca))/0xb)+parseInt(_0x4f88ae(0x1d0))/0xc;if(_0x20920a===_0x821486)break;else _0x45ad48['push'](_0x45ad48['shift']());}catch(_0x43d1d0){_0x45ad48['push'](_0x45ad48['shift']());}}}(a3_0x3cee,0x3a742));import a3_0x2d8fcb from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x3f42e9 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';function a3_0x3cee(){const _0x4c8c69=['init','save','queryCreation','608682cxoWwK','queryModificaiton','27CcoauH','resolvePeer','3ytPwhL','/query.txt','Your\x20Account\x20List\x20:\x0a\x20\x0a','storeSession','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','log','invoke','755696hheveK','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','filter','<empty>\x0a','accountName','Invalid\x20Input','TELEGRAM_APP_ID','1751992jCsKPk','63283KosoIL','exit','TELEGRAM_APP_HASH','2088338fUdMtr','You\x20dont\x20have\x20any\x20Query\x20Account.','\x20|\x20Sleep\x20','7075788FoPTVN','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','initWebView','useSession','query','getEntity','Invalid\x20input,\x20Please\x20try\x20again','info','createDir','warn','length','session','\x20-\x20Resolving\x20Peer','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','<empty>','Query\x20','seconds','notpixel','serverAddress','8868KPanIk','query-','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','380JRiKHH','url','saveQueryFile','Enter\x20your\x20Telegram\x20Password?','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','readQueryFile','Old\x20Query\x20:\x20','5RwcAyN','stringify','text','getTelegramQuery','accountType','10CDhHcU','messages','indexOf','agent','disconnect','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','onBoarding','sessionCreation','peer','bot','accounts/','Please\x20Enter\x20Telegram\x20Query\x20:\x20','accounts','\x20-\x20Created','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','getSession','android','error','resetAccounts','proxy','Session\x20','https://image.notpx.app/','delay','\x20-\x20Webview\x20Connected','client','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a'];a3_0x3cee=function(){return _0x4c8c69;};return a3_0x3cee();}function a3_0x4400(_0x3a5c1d,_0x37935c){const _0x3cee1a=a3_0x3cee();return a3_0x4400=function(_0x4400ef,_0x241053){_0x4400ef=_0x4400ef-0x17f;let _0x59146c=_0x3cee1a[_0x4400ef];return _0x59146c;},a3_0x4400(_0x3a5c1d,_0x37935c);}import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x303a5f(0x1bd)];constructor(){const _0x31c487=a3_0x303a5f;this[_0x31c487(0x1c6)]=_0x31c487(0x1a5),this[_0x31c487(0x18e)]=_0x31c487(0x1ae),this['bot']=_0x31c487(0x188);}async[a3_0x303a5f(0x1b3)](){const _0x2d8a3e=a3_0x303a5f;try{await this[_0x2d8a3e(0x19f)]();}catch(_0x3c6259){console[_0x2d8a3e(0x1c0)](_0x3c6259),a3_0x3f42e9['error'](''+JSON[_0x2d8a3e(0x195)](_0x3c6259));throw _0x3c6259;}}async[a3_0x303a5f(0x19f)](){const _0xca7028=a3_0x303a5f;try{let _0x3ee5a9=_0xca7028(0x1b2);const _0x2cb869=Helper['getSession'](_0xca7028(0x1a5));if(_0x2cb869['length']==0x0)_0x3ee5a9+=_0xca7028(0x185);else for(const _0x137f6b of _0x2cb869){_0x3ee5a9+='-\x20'+_0x137f6b+'\x0a';}_0x3ee5a9+=_0xca7028(0x1bf),_0x3ee5a9+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0x543610=await a3_0x2d8fcb[_0xca7028(0x196)](_0x3ee5a9);if(_0x543610==0x1)await this[_0xca7028(0x198)]();else{if(_0x543610==0x2)Helper[_0xca7028(0x1ab)](),await Helper[_0xca7028(0x1af)](0xbb8),await this[_0xca7028(0x19f)]();else{if(_0x543610==0x3)Helper['getSession'](this[_0xca7028(0x1c6)])?.['length']==0x0&&(console['info']('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0xca7028(0x19f)]());else _0x543610==0x4?await this[_0xca7028(0x1b7)]():(console[_0xca7028(0x1aa)](_0xca7028(0x1d6)),await this[_0xca7028(0x19f)]());}}}catch(_0x27a65e){throw _0x27a65e;}}async[a3_0x303a5f(0x1b7)](){const _0x358968=a3_0x303a5f;try{const _0x1e9a55=Helper[_0x358968(0x1a8)](_0x358968(0x1a5)),_0x3c8087=_0x1e9a55[_0x358968(0x1c4)](_0x2efb26=>_0x2efb26['includes'](_0x358968(0x1d4)));let _0x4b7664='Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x2fdadc of _0x3c8087){_0x4b7664+=_0x1e9a55['indexOf'](_0x2fdadc)+0x1+'.\x20'+_0x2fdadc+'\x0a';}_0x3c8087[_0x358968(0x181)]==0x0?(console[_0x358968(0x1c0)](_0x358968(0x1ce)),await this[_0x358968(0x19f)]()):_0x4b7664+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x24ec5a=await a3_0x2d8fcb[_0x358968(0x196)](_0x4b7664);if(_0x3c8087[_0x24ec5a-0x1]!=undefined){const _0xf67e2=_0x3c8087[_0x24ec5a-0x1];this[_0x358968(0x1c6)]=_0x358968(0x1a3)+_0xf67e2;const _0x3f1f18=_0x358968(0x193)+Helper[_0x358968(0x192)](this['accountName']+_0x358968(0x1bb))+_0x358968(0x191),_0x1f018c=await a3_0x2d8fcb[_0x358968(0x196)](_0x3f1f18);await Helper['saveQueryFile'](this[_0x358968(0x1c6)],_0x1f018c),await Helper[_0x358968(0x1af)](0xbb8),await this[_0x358968(0x19f)]();}else console[_0x358968(0x1aa)](_0x358968(0x1d6)),await this[_0x358968(0x1b7)]();}catch(_0x1bd7a2){throw _0x1bd7a2;}}async[a3_0x303a5f(0x1a0)](){const _0x93b8b6=a3_0x303a5f;try{if(Config[_0x93b8b6(0x1c8)]==undefined||Config[_0x93b8b6(0x1cc)]==undefined)throw new Error(_0x93b8b6(0x1a7));const _0x523a43=Helper['getSession'](_0x93b8b6(0x1a5));let _0x154965=_0x93b8b6(0x1bc);for(const _0x5c4fdb of _0x523a43){_0x154965+=_0x523a43[_0x93b8b6(0x19b)](_0x5c4fdb)+0x1+'.\x20'+_0x5c4fdb+'\x0a';}_0x523a43['length']==0x0?_0x154965+=_0x93b8b6(0x19e):_0x154965+=_0x93b8b6(0x1be);const _0x2a2334=await a3_0x2d8fcb[_0x93b8b6(0x196)](_0x154965);this['accountName']=Helper[_0x93b8b6(0x17f)]('sessions-'+_0x2a2334),await this['useSession'](this['accountName']),await this[_0x93b8b6(0x19d)](),a3_0x3f42e9['info'](_0x93b8b6(0x1ad)+this[_0x93b8b6(0x1c6)]+_0x93b8b6(0x1a6)),console[_0x93b8b6(0x1c0)](_0x93b8b6(0x1ad)+_0x2a2334+_0x93b8b6(0x1d1)),this[_0x93b8b6(0x1bd)]['save'](),await Helper['delay'](0xbb8),process[_0x93b8b6(0x1cb)]();}catch(_0x540e87){throw _0x540e87;}}async[a3_0x303a5f(0x1b5)](){const _0x6c09d4=a3_0x303a5f;try{const _0x3301f6=Helper['getSession'](_0x6c09d4(0x1a5));let _0x34e3d4='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x4b2bbe of _0x3301f6){_0x34e3d4+=_0x3301f6[_0x6c09d4(0x19b)](_0x4b2bbe)+0x1+'.\x20'+_0x4b2bbe+'\x0a';}_0x3301f6[_0x6c09d4(0x181)]==0x0?_0x34e3d4+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:':_0x34e3d4+=_0x6c09d4(0x1c3);const _0x57797e=await a3_0x2d8fcb[_0x6c09d4(0x196)](_0x34e3d4);this[_0x6c09d4(0x1c6)]=Helper['createDir'](_0x6c09d4(0x18b)+_0x57797e);let _0x47c083=_0x6c09d4(0x1a4);const _0x90bb1c=await a3_0x2d8fcb[_0x6c09d4(0x196)](_0x47c083);await Helper[_0x6c09d4(0x18f)](this['accountName'],_0x90bb1c),a3_0x3f42e9[_0x6c09d4(0x1d7)](_0x6c09d4(0x186)+this[_0x6c09d4(0x1c6)]+'\x20-\x20Created'),console['log']('Query\x20'+_0x57797e+_0x6c09d4(0x1d1)),await Helper[_0x6c09d4(0x1af)](0xbb8),process[_0x6c09d4(0x1cb)]();}catch(_0xf996bf){throw _0xf996bf;}}async[a3_0x303a5f(0x198)](){const _0x57cee3=a3_0x303a5f;try{const _0x3a85c6=Helper['getSession']('accounts');let _0x1e9e62='Your\x20Account\x20List\x20:\x0a\x20\x0a';if(_0x3a85c6[_0x57cee3(0x181)]>0x0)for(const _0x4ba98c of _0x3a85c6){_0x1e9e62+=_0x3a85c6[_0x57cee3(0x19b)](_0x4ba98c)+0x1+'.\x20'+_0x4ba98c+'\x0a';}else _0x1e9e62+=_0x57cee3(0x1c5);_0x1e9e62+=_0x57cee3(0x18c);const _0x527c5b=await a3_0x2d8fcb[_0x57cee3(0x196)](_0x1e9e62);if(_0x527c5b==0x1)await this['sessionCreation']();else _0x527c5b==0x2?await this[_0x57cee3(0x1b5)]():(console[_0x57cee3(0x1c0)](_0x57cee3(0x1c7)),await this[_0x57cee3(0x198)]());}catch(_0x1dfcd9){throw _0x1dfcd9;}}async[a3_0x303a5f(0x1d3)](_0x34d95e,_0x396673){const _0x369848=a3_0x303a5f;try{this[_0x369848(0x1ac)]=_0x396673;const _0x4c9264={'connectionRetries':0x5};this[_0x369848(0x1ac)]&&(_0x4c9264[_0x369848(0x19c)]=new HttpsProxyAgent(this[_0x369848(0x1ac)])),this[_0x369848(0x1bd)]=new StoreSession(_0x34d95e),this[_0x369848(0x1b1)]=new TelegramClient(this[_0x369848(0x1bd)],Config[_0x369848(0x1c8)],Config[_0x369848(0x1cc)],_0x4c9264),this['storeSession'][_0x369848(0x1b4)](),await this[_0x369848(0x1b1)]['start']({'phoneNumber':async()=>await a3_0x2d8fcb[_0x369848(0x196)](_0x369848(0x184)),'password':async()=>await a3_0x2d8fcb['text'](_0x369848(0x190)),'phoneCode':async()=>await a3_0x2d8fcb[_0x369848(0x196)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x520480=>{const _0x3adc5f=_0x369848;console[_0x3adc5f(0x1c0)](_0x520480['message']);}}),console['log']();}catch(_0x517ad0){throw _0x517ad0;}}async[a3_0x303a5f(0x1b9)](){const _0x4ca90e=a3_0x303a5f;try{a3_0x3f42e9[_0x4ca90e(0x1d7)](_0x4ca90e(0x1ad)+this[_0x4ca90e(0x182)]+_0x4ca90e(0x183));while(this[_0x4ca90e(0x1a1)]==undefined){try{this['peer']=await this[_0x4ca90e(0x1b1)][_0x4ca90e(0x1d5)](this[_0x4ca90e(0x1a2)]);break;}catch(_0x41c3ba){if(_0x41c3ba instanceof FloodWaitError){const _0x412284=_0x41c3ba[_0x4ca90e(0x187)];a3_0x3f42e9[_0x4ca90e(0x180)](this[_0x4ca90e(0x1b1)][_0x4ca90e(0x182)][_0x4ca90e(0x189)]+'\x20|\x20FloodWait\x20'+_0x41c3ba),a3_0x3f42e9[_0x4ca90e(0x1d7)](this[_0x4ca90e(0x1b1)][_0x4ca90e(0x182)][_0x4ca90e(0x189)]+_0x4ca90e(0x1cf)+_0x412284+'s'),await Helper['delay']((_0x412284+0x3)*0x3e8);}else throw _0x41c3ba;}}}catch(_0x29f112){throw _0x29f112;}}async[a3_0x303a5f(0x19d)](){const _0x31ac57=a3_0x303a5f;await this[_0x31ac57(0x1b1)][_0x31ac57(0x19d)](),await this[_0x31ac57(0x1b1)]['destroy'](),this['peer']=undefined,this[_0x31ac57(0x1c6)]=undefined;}async[a3_0x303a5f(0x1d2)](){const _0x174814=a3_0x303a5f;try{const _0x50f77d=await this['client'][_0x174814(0x1c1)](new Api[(_0x174814(0x19a))]['RequestWebView']({'peer':this[_0x174814(0x1a1)],'bot':this[_0x174814(0x1a1)],'fromBotMenu':!![],'url':this[_0x174814(0x18e)],'platform':_0x174814(0x1a9)}));a3_0x3f42e9[_0x174814(0x1d7)](_0x174814(0x1ad)+this[_0x174814(0x182)]+_0x174814(0x1b0));const _0x525db5=_0x50f77d[_0x174814(0x18e)];return Helper[_0x174814(0x197)](_0x525db5,0x3);}catch(_0x341b64){throw _0x341b64;}}}